<!doctype html>
<html lang=pl>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>PoKreGaM</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css>
<script type=module>import{initializeApp}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";import{getAuth,signInAnonymously,signInWithCustomToken,onAuthStateChanged}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";import{getFirestore,doc,getDoc,setDoc,collection,query,onSnapshot,addDoc,deleteDoc}from"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";const firebaseConfig="undefined"!=typeof __firebase_config?JSON.parse(__firebase_config):{},appId="undefined"!=typeof __app_id?__app_id:"default-app-id";let app,db,auth,currentUserId=null,currentUserData={};async function initializeFirebaseAndAuth(){try{app=initializeApp(firebaseConfig),db=getFirestore(app),auth=getAuth(app),window.firebaseApp=app,window.firestoreDb=db,window.firebaseAuth=auth,"undefined"!=typeof __initial_auth_token&&__initial_auth_token?(await signInWithCustomToken(auth,__initial_auth_token),console.log("Signed in with custom token.")):(await signInAnonymously(auth),console.log("Signed in anonymously.")),onAuthStateChanged(auth,(async e=>{if(e){currentUserId=e.uid,console.log("Auth state changed. User ID:",currentUserId);const t=await window.loadUserDataFromFirestore();t&&(window.updateProfileUI&&window.updateProfileUI(t),window.loadAllPosts&&window.loadAllPosts(),window.loadFriendsList&&window.loadFriendsList())}else currentUserId=null,console.log("User logged out or not authenticated."),window.showSection&&window.showSection(document.getElementById("loginSection")),window.clearProfileUI&&window.clearProfileUI()}))}catch(e){console.error("Error initializing Firebase or signing in:",e);const t=document.getElementById("loginError");t&&(t.textContent="Error connecting to service. Please try again later."),window.showSection&&window.showSection(document.getElementById("loginSection"))}}window.firebaseApp=null,window.firestoreDb=null,window.firebaseAuth=null,window.getCurrentUserId=()=>currentUserId,window.saveUserDataToFirestore=async e=>{if(!currentUserId||!db)return void console.warn("User not authenticated or Firestore not initialized. Cannot save data.");const t=doc(db,`artifacts/${appId}/users/${currentUserId}/profile/data`);try{await setDoc(t,e,{merge:!0}),console.log("User data saved successfully to Firestore!"),currentUserData={...currentUserData,...e}}catch(e){console.error("Error saving user data to Firestore: ",e)}},window.loadUserDataFromFirestore=async()=>{if(!currentUserId||!db)return console.warn("User not authenticated or Firestore not initialized. Cannot load data."),null;const e=doc(db,`artifacts/${appId}/users/${currentUserId}/profile/data`);try{const t=await getDoc(e);if(t.exists()){const e=t.data();return console.log("User data loaded from Firestore:",e),currentUserData=e,e}{console.log("No user data found for this user. Initializing default.");const e={xp:0,level:1,friends:[],gold:0,avatar:"https://placehold.co/80x80/cccccc/000000?text=üë§"};return await window.saveUserDataToFirestore(e),currentUserData=e,e}}catch(e){return console.error("Error loading user data from Firestore: ",e),null}},window.addPostToFirestore=async e=>{if(!currentUserId||!db)return console.warn("User not authenticated or Firestore not initialized. Cannot add post."),!1;const t=collection(db,`artifacts/${appId}/public/posts`);try{return await addDoc(t,{...e,userId:currentUserId,timestamp:new Date}),console.log("Post added successfully to Firestore!"),!0}catch(e){return console.error("Error adding post to Firestore: ",e),!1}},window.getPostsFromFirestore=e=>{if(!db)return console.warn("Firestore not initialized. Cannot get posts."),()=>{};const t=collection(db,`artifacts/${appId}/public/posts`),o=query(t),r=onSnapshot(o,(t=>{const o=t.docs.map((e=>({id:e.id,...e.data()})));o.sort(((e,t)=>(t.timestamp?.toDate()||0)-(e.timestamp?.toDate()||0))),e(o)}),(e=>{console.error("Error getting posts from Firestore: ",e)}));return r},window.addEventListener("load",initializeFirebaseAndAuth)</script>
<style>body{font-family:Inter,sans-serif;margin:0;padding:0;background-color:#f7fafc;color:#2d3748;display:flex;flex-direction:column;min-height:100vh}header{background-color:#2d3748;color:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 12px rgba(0,0,0,.2);flex-wrap:wrap;border-bottom-left-radius:12px;border-bottom-right-radius:12px;position:sticky;top:0;z-index:100}header h1{margin:0;font-size:2em;color:#63b3ed;font-weight:800}.header-controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}.header-controls button,.header-controls select{padding:10px 18px;border:none;border-radius:8px;cursor:pointer;background-color:#4a5568;color:#fff;font-weight:600;transition:background-color .3s ease-in-out,transform .1s ease-in-out;white-space:nowrap;box-shadow:0 2px 5px rgba(0,0,0,.1)}.header-controls button:hover,.header-controls select:hover{background-color:#2c3748;transform:translateY(-1px)}main{flex-grow:1;padding:20px;display:flex;justify-content:center;align-items:flex-start;width:100%;box-sizing:border-box}section{background-color:#fff;padding:30px;border-radius:16px;box-shadow:0 8px 25px rgba(0,0,0,.15);width:100%;max-width:700px;box-sizing:border-box;margin-bottom:30px;transition:opacity .3s ease-in-out,transform .3s ease-in-out}section.hidden{display:none;opacity:0;transform:translateY(20px)}section:not(.hidden){opacity:1;transform:translateY(0)}h2{color:#2d3748;text-align:center;margin-bottom:25px;font-size:2em;font-weight:700}form{display:flex;flex-direction:column;gap:18px}form label{font-weight:700;margin-bottom:5px;display:block;color:#4a5568;font-size:1.1em}form input[type=date],form input[type=email],form input[type=password],form input[type=text],form select,form textarea{width:calc(100% - 24px);padding:12px;border:1px solid #cbd5e0;border-radius:10px;font-size:1.1em;margin-top:5px;box-sizing:border-box;background-color:#edf2f7;color:#2d3748}form button{padding:12px 25px;background-color:#4299e1;color:#fff;border:none;border-radius:10px;cursor:pointer;font-size:1.2em;font-weight:700;transition:background-color .3s ease-in-out,transform .1s ease-in-out,box-shadow .2s;box-shadow:0 4px 10px rgba(0,0,0,.1)}form button:hover{background-color:#3182ce;transform:translateY(-2px);box-shadow:0 6px 15px rgba(0,0,0,.15)}.error-message{color:#e53e3e;margin-top:15px;text-align:center;font-weight:700;font-size:1.1em}.success-message{color:#38a169;margin-top:15px;text-align:center;font-weight:700;font-size:1.1em}.link-text{text-align:center;margin-top:20px}.link-text a,.link-text button{color:#4299e1;text-decoration:none;cursor:pointer;background:0 0;border:none;padding:0;font-size:1.1em;transition:color .2s ease-in-out;font-weight:600}.link-text a:hover,.link-text button:hover{color:#3182ce}#avatarsContainer{display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:15px;margin-bottom:25px;justify-items:center}.avatar{border:3px solid transparent;border-radius:12px;padding:8px;cursor:pointer;text-align:center;transition:border-color .3s ease-in-out,background-color .3s ease-in-out,box-shadow .2s;background-color:#edf2f7;box-shadow:0 2px 8px rgba(0,0,0,.05)}.avatar img{width:90px;height:90px;border-radius:50%;object-fit:cover;display:block;margin:0 auto 8px;border:2px solid #cbd5e0}.avatar.selected{border-color:#4299e1;background-color:#ebf8ff;box-shadow:0 0 0 4px rgba(66,153,225,.6);transform:scale(1.05)}#profileSection{display:flex;flex-direction:column;width:100%;max-width:1000px}#profileHeader{display:flex;align-items:center;gap:30px;margin-bottom:25px;padding-bottom:25px;border-bottom:1px solid #e2e8f0;flex-wrap:wrap;justify-content:center;text-align:center}#profileAvatar img{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid #4299e1;box-shadow:0 0 0 6px rgba(66,153,225,.3)}#profileInfo{flex-grow:1}#profileInfo p{margin:8px 0;font-size:1.2em}#profileInfo p strong{color:#4299e1}#profileStats{display:flex;flex-wrap:wrap;gap:20px;margin-top:15px;justify-content:center}#profileStats div{background-color:#ebf8ff;padding:10px 15px;border-radius:8px;font-size:1em;color:#2b6cb0;font-weight:700;box-shadow:0 2px 8px rgba(0,0,0,.08)}#tabs{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:25px;border-bottom:2px solid #e2e8f0;padding-bottom:8px;justify-content:center;background-color:#f7fafc;border-radius:12px 12px 0 0;padding-top:10px}#tabs button{background-color:#edf2f7;color:#555;padding:12px 20px;border:1px solid #cbd5e0;border-bottom:none;border-radius:10px 10px 0 0;cursor:pointer;font-weight:700;transition:background-color .3s ease-in-out,color .3s ease-in-out,border-color .3s ease-in-out;white-space:nowrap;box-shadow:0 2px 5px rgba(0,0,0,.05)}#tabs button.active{background-color:#fff;color:#4299e1;border-color:#4299e1;border-bottom:2px solid #fff;position:relative;z-index:1;box-shadow:0 4px 10px rgba(0,0,0,.1)}.tabContent{background-color:#fff;padding:30px;border-radius:0 0 16px 16px;box-shadow:0 8px 25px rgba(0,0,0,.15)}#rankingTypeButtons{text-align:center;margin-bottom:25px;display:flex;flex-wrap:wrap;justify-content:center;gap:12px}#rankingTypeButtons button{padding:10px 18px;border:1px solid #4299e1;border-radius:8px;background-color:#fff;color:#4299e1;cursor:pointer;font-weight:600;transition:all .3s ease-in-out;box-shadow:0 2px 5px rgba(0,0,0,.05)}#rankingTypeButtons button.active{background-color:#4299e1;color:#fff;box-shadow:0 4px 10px rgba(0,0,0,.1)}#rankingTable{width:100%;border-collapse:collapse;margin-top:20px}#rankingTable td,#rankingTable th{border:1px solid #e2e8f0;padding:12px 15px;text-align:left;word-break:break-word;font-size:1.05em}#rankingTable th{background-color:#f0f4f8;font-weight:700;color:#4a5568;text-transform:uppercase}#rankingTable tbody tr:nth-child(2n){background-color:#edf2f7}#rankingTable tbody tr:hover{background-color:#e0f7fa;transform:scale(1.01);transition:transform .1s ease-in-out}#rankingTable td button.report-user-btn{background-color:#fbd38d;color:#2d3748;border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:.9em;margin-left:12px;transition:background-color .3s ease-in-out,transform .1s ease-in-out;white-space:nowrap;box-shadow:0 2px 5px rgba(0,0,0,.08)}#rankingTable td button.report-user-btn:hover{background-color:#f6ad55;transform:translateY(-1px)}#writePostSection{margin-bottom:30px;padding-bottom:25px;border-bottom:1px solid #e2e8f0}#postContent{resize:vertical;min-height:100px;margin-bottom:15px;padding:12px;border-radius:10px;background-color:#edf2f7;color:#2d3748}#publishPostBtn{width:auto;align-self:flex-end;margin-top:10px;background-color:#48bb78}#publishPostBtn:hover{background-color:#38a169}.post{border:1px solid #e2e8f0;border-radius:12px;padding:20px;margin-bottom:20px;background-color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.08)}.post-header{display:flex;align-items:center;margin-bottom:15px}.post-avatar img{width:50px;height:50px;border-radius:50%;margin-right:15px;object-fit:cover;border:2px solid #cbd5e0}.post-info{flex-grow:1}.post-author{font-weight:700;color:#4299e1;font-size:1.1em}.post-time{font-size:.9em;color:#718096}.post-content{line-height:1.6;white-space:pre-wrap;word-wrap:break-word;color:#4a5568;font-size:1.05em}#allChatsSection{text-align:center}#chatsContent{margin-top:25px;border-top:1px solid #e2e8f0;padding-top:25px;max-height:500px;overflow-y:auto;background-color:#edf2f7;border-radius:12px;padding:15px;box-shadow:inset 0 0 8px rgba(0,0,0,.05)}.chat-container{border:1px solid #cbd5e0;border-radius:10px;padding:18px;margin-bottom:18px;background-color:#fff;box-shadow:0 2px 8px rgba(0,0,0,.08)}.chat-header{font-weight:700;margin-bottom:12px;color:#2b6cb0;border-bottom:1px dashed #bee3f8;padding-bottom:8px;font-size:1.15em}.chat-message{margin-bottom:8px;font-size:1em;color:#4a5568}.chat-message strong{color:#2d3748}.friends-search{display:flex;gap:15px;margin-bottom:25px;flex-wrap:wrap}.friends-search input{flex-grow:1;min-width:150px}.friends-search button{flex-shrink:0;width:auto;padding:12px 25px}.user-list{max-height:350px;overflow-y:auto;border:1px solid #e2e8f0;padding:15px;border-radius:10px;margin-bottom:25px;background-color:#edf2f7}.user-card{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;border-bottom:1px solid #f0f4f8;font-size:1.1em}.user-card:last-child{border-bottom:none}.user-card span{font-weight:700;color:#333}.user-card button{background-color:#48bb78;color:#fff;border:none;padding:8px 15px;border-radius:6px;cursor:pointer;font-size:.95em;transition:background-color .3s ease-in-out;width:auto}.user-card button:hover:not(:disabled){background-color:#38a169}.user-card button:disabled{background-color:#cbd5e0;cursor:not-allowed}.my-friends ul{list-style:none;padding:0}.my-friends li{background-color:#ebf8ff;padding:10px 15px;border-radius:8px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center;color:#2b6cb0;font-weight:700;font-size:1.1em}.my-friends li:last-child{margin-bottom:0}.modal{position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;transition:opacity .3s ease-in-out}.modal.hidden{opacity:0;pointer-events:none}.modal-content{background-color:#fefefe;padding:30px;border:1px solid #a0aec0;border-radius:16px;width:90%;max-width:550px;position:relative;box-shadow:0 12px 30px rgba(0,0,0,.3);animation-name:animatetop;animation-duration:.4s;box-sizing:border-box}@-webkit-keyframes animatetop{from{top:-300px;opacity:0}to{top:0;opacity:1}}@keyframes animatetop{from{top:-300px;opacity:0}to{top:0;opacity:1}}.close-button{color:#718096;font-size:32px;font-weight:700;position:absolute;right:18px;top:15px;cursor:pointer;transition:color .2s ease-in-out}.close-button:focus,.close-button:hover{color:#2d3748;text-decoration:none}.modal-content h2{margin-top:0;margin-bottom:20px;color:#2d3748;font-size:1.8em}.modal-content form label{display:flex;align-items:center;gap:12px;margin-bottom:10px;font-weight:400;font-size:1.05em}.modal-content form input[type=radio]{margin-right:5px;width:auto;transform:scale(1.2)}.modal-content form textarea{width:calc(100% - 24px);min-height:100px;margin-top:15px;padding:12px;border-radius:10px;background-color:#edf2f7;color:#2d3748}.modal-content form button{width:auto;margin-top:20px;align-self:center;padding:12px 30px;background-color:#4299e1}.modal-content form button:hover{background-color:#3182ce}#gameBuilderTab{max-width:1200px;display:flex;flex-direction:column;gap:20px}.builder-controls{display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:20px}.builder-tools{display:flex;flex-direction:column;gap:12px;background-color:#edf2f7;padding:15px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);min-width:180px}.builder-tool-item{display:flex;align-items:center;gap:10px;padding:10px;border-radius:8px;cursor:pointer;background-color:#fff;border:1px solid #cbd5e0;transition:background-color .2s,border-color .2s,box-shadow .2s}.builder-tool-item:hover{background-color:#e2e8f0;border-color:#a0aec0}.builder-tool-item.selected{background-color:#bee3f8;border-color:#4299e1;box-shadow:0 0 0 3px rgba(66,153,225,.5)}.builder-tool-item img{width:28px;height:28px}.builder-tool-item span{font-weight:700;color:#2d3748;font-size:1.05em}.color-picker-container{display:flex;flex-wrap:wrap;gap:8px;margin-top:15px;padding-top:10px;border-top:1px solid #e2e8f0}.color-box{width:30px;height:30px;border:2px solid #ccc;cursor:pointer;border-radius:6px;transition:transform .1s,border-color .2s,box-shadow .2s}.color-box.selected{border-color:#4299e1;box-shadow:0 0 0 3px #4299e1;transform:scale(1.15)}#gameCanvasContainer{border:2px solid #a0aec0;border-radius:12px;background-color:#f7fafc;flex-grow:1;display:flex;justify-content:center;align-items:center;overflow:auto;position:relative;min-height:400px;box-shadow:inset 0 0 10px rgba(0,0,0,.1)}#gameCanvas{background-color:#fff;display:block;border-radius:8px;box-shadow:0 0 15px rgba(0,0,0,.1)}.builder-inventory{background-color:#edf2f7;padding:15px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05);min-width:220px;max-height:500px;overflow-y:auto}.inventory-category{font-weight:700;color:#2d3748;margin-top:15px;margin-bottom:8px;border-bottom:2px solid #cbd5e0;padding-bottom:5px;font-size:1.1em}.inventory-item{display:flex;align-items:center;gap:10px;padding:8px;margin-bottom:8px;border-radius:8px;cursor:pointer;background-color:#fff;border:1px solid #cbd5e0;transition:background-color .2s,border-color .2s,box-shadow .2s}.inventory-item:hover{background-color:#e2e8f0;border-color:#4299e1}.inventory-item.selected{background-color:#bee3f8;border-color:#4299e1;box-shadow:0 0 0 3px rgba(66,153,225,.5)}.inventory-item img{width:24px;height:24px}.inventory-item span{font-size:1em;color:#4a5568}#createNewModelBtn,#selectBlockColorBtn{margin-top:20px;width:100%;background-color:#4299e1;color:#fff;padding:10px 15px;border-radius:8px;cursor:pointer;border:none;font-weight:600;transition:background-color .2s,transform .1s;box-shadow:0 2px 5px rgba(0,0,0,.1)}#createNewModelBtn:hover,#selectBlockColorBtn:hover{background-color:#3182ce;transform:translateY(-1px)}.builder-actions{display:flex;justify-content:flex-end;gap:15px;margin-top:30px;flex-wrap:wrap}.builder-actions button{padding:12px 25px;border-radius:10px;font-weight:700;transition:background-color .3s,transform .1s,box-shadow .2s;box-shadow:0 4px 10px rgba(0,0,0,.1)}#takeScreenshotBtn{background-color:#a0aec0;color:#fff}#takeScreenshotBtn:hover{background-color:#718096}#publishGameBtn{background-color:#48bb78;color:#fff}#publishGameBtn:hover{background-color:#38a169}#backToGamesListBtn{background-color:#e53e3e;color:#fff}#backToGamesListBtn:hover{background-color:#c53030}.game-list-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:25px;margin-top:25px}.game-card{background-color:#f7fafc;border:1px solid #e2e8f0;border-radius:12px;padding:20px;box-shadow:0 4px 15px rgba(0,0,0,.08);display:flex;flex-direction:column;justify-content:space-between;transition:transform .2s ease-in-out,box-shadow .2s}.game-card:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(0,0,0,.12)}.game-card h4{margin-top:0;margin-bottom:12px;color:#2d3748;font-size:1.4em;font-weight:700}.game-card p{font-size:1em;color:#4a5568;margin-bottom:8px}.game-card-actions{display:flex;gap:12px;margin-top:20px}.game-card-actions button{flex:1;padding:10px 15px;border-radius:8px;font-weight:700;transition:background-color .2s,transform .1s;box-shadow:0 2px 5px rgba(0,0,0,.1)}.game-card-actions .build-game-btn{background-color:#63b3ed;color:#fff}.game-card-actions .build-game-btn:hover{background-color:#4299e1;transform:translateY(-1px)}.game-card-actions .play-game-btn{background-color:#48bb78;color:#fff}.game-card-actions .play-game-btn:hover{background-color:#38a169;transform:translateY(-1px)}.game-card-actions .play-game-btn:disabled{background-color:#cbd5e0;cursor:not-allowed;transform:none;box-shadow:none}#playGameSection{text-align:center;max-width:900px}#playGameContent{border:2px solid #a0aec0;border-radius:12px;background-color:#f7fafc;padding:30px;margin-top:25px;min-height:400px;display:flex;flex-direction:column;justify-content:center;align-items:center;box-shadow:inset 0 0 10px rgba(0,0,0,.1)}#playGameContent p{font-size:1.2em;color:#4a5568;margin-bottom:20px}#playGameCanvas{background-color:#fff;border:1px solid #e2e8f0;border-radius:8px;box-shadow:0 0 15px rgba(0,0,0,.1)}#returnToGamesListBtn{margin-top:25px;padding:12px 25px;background-color:#4299e1;color:#fff;border-radius:10px;font-weight:700;transition:background-color .2s,transform .1s;box-shadow:0 4px 10px rgba(0,0,0,.1)}#returnToGamesListBtn:hover{background-color:#3182ce;transform:translateY(-1px)}@media (max-width:768px){header{flex-direction:column;gap:15px;padding:15px 10px}header h1{font-size:1.8em}.header-controls{justify-content:center}.header-controls button,.header-controls select{padding:8px 12px;font-size:.9em}main{padding:15px 10px}section{padding:20px;border-radius:12px}h2{font-size:1.8em;margin-bottom:15px}form button,form input,form select,form textarea{padding:10px;font-size:1em}form button{padding:10px 20px;font-size:1.1em}.avatar img{width:70px;height:70px}#profileHeader{flex-direction:column;text-align:center;gap:15px;padding-bottom:15px}#profileAvatar img{width:90px;height:90px}#profileInfo p{font-size:1em}#profileStats{gap:10px}#profileStats div{padding:6px 10px;font-size:.85em}#tabs{flex-direction:column;align-items:stretch;gap:5px;padding-bottom:5px}#tabs button{width:100%;border-radius:8px;border-bottom:1px solid #cbd5e0;padding:10px}#tabs button.active{border-bottom:1px solid #4299e1}.tabContent{padding:20px;border-radius:0 0 12px 12px}#rankingTypeButtons{gap:8px;margin-bottom:15px}#rankingTypeButtons button{padding:8px 12px;font-size:.9em}#rankingTable td,#rankingTable th{padding:8px 10px;font-size:.95em}#rankingTable td button.report-user-btn{margin-left:5px;padding:4px 8px;font-size:.75em}.post{padding:15px;margin-bottom:15px}.post-avatar img{width:40px;height:40px;margin-right:10px}.post-author{font-size:1em}.chat-container{padding:15px;margin-bottom:15px}.chat-header{font-size:1em}.chat-message{font-size:.9em}.friends-search{flex-direction:column;gap:10px}.friends-search button,.friends-search input{width:100%;box-sizing:border-box}.user-card{padding:10px;font-size:1em}.user-card button{padding:6px 10px;font-size:.85em}.my-friends li{padding:8px 10px;font-size:1em}.modal-content{padding:20px;border-radius:12px}.close-button{font-size:24px;right:10px;top:10px}.modal-content h2{font-size:1.5em}.modal-content form label{font-size:.95em}.modal-content form input[type=radio]{transform:scale(1)}.modal-content form textarea{padding:10px}.modal-content form button{padding:10px 20px;font-size:1.1em}#gameBuilderTab{padding:20px}.builder-controls{flex-direction:column;align-items:stretch;gap:15px}.builder-inventory,.builder-tools{min-width:unset;width:100%;padding:10px}.builder-tool-item,.inventory-item{padding:8px}.builder-tool-item img,.inventory-item img{width:20px;height:20px}.color-box{width:25px;height:25px}#gameCanvasContainer{min-height:250px}.builder-actions{flex-direction:column;gap:10px}.builder-actions button{width:100%;box-sizing:border-box}.game-list-container{grid-template-columns:1fr;gap:15px}.game-card{padding:15px}.game-card h4{font-size:1.2em}.game-card-actions{flex-direction:column;gap:8px}.game-card-actions button{width:100%;box-sizing:border-box}#playGameContent{padding:20px;min-height:300px}#playGameContent p{font-size:1em}#playGameCanvas{width:100%;height:auto}}</style>
</head>
<body>
<header>
<h1>PoKreGaM</h1>
<div class=header-controls>
<nav id=navMain>
<button id=navGames>Games</button>
<button id=navMarketplace>Marketplace</button>
<button id=navBuild>Build</button>
<button id=navNews>News</button>
<button id=navRanking>Ranking</button>
</nav>
<select id=languageSelector>
<option value=en>English</option>
<option value=pl>Polski</option>
<option value=mk>–ú–∞–∫–µ–¥–æ–Ω—Å–∫–∏</option>
<option value=ru>–†—É—Å—Å–∫–∏–π</option>
<option value=hu>Magyar</option>
</select>
<button id=btnLogin>Login</button>
<button id=btnSignUp>Sign Up</button>
</div>
</header>
<main>
<section id=loginSection class=hidden>
<h2 id=loginTitle>Login</h2>
<form id=loginForm>
<label for=loginUsername>Username:</label>
<input id=loginUsername required autocomplete=username>
<label for=loginPassword>Password:</label>
<input type=password id=loginPassword required autocomplete=current-password>
<button type=submit id=loginSubmit>Login</button>
<p id=loginError class=error-message></p>
<p class=link-text><button type=button id=forgotPasswordLink>Forgot Password?</button></p>
<p class=link-text><button type=button id=toSignUp>Don't have an account? Sign Up</button></p>
</form>
</section>
<section id=signUpSection class=hidden>
<h2 id=signUpTitle>Sign Up</h2>
<form id=signUpForm>
<p id=selectCharacter>Select your character:</p>
<div id=avatarsContainer>
</div>
<label for=signUpUsername>Username:</label>
<input id=signUpUsername required autocomplete=username>
<label for=signUpEmail>Email (optional):</label>
<input type=email id=signUpEmail autocomplete=email>
<label for=signUpCountry>Country:</label>
<select id=signUpCountry required>
<option value=PL>Poland</option>
<option value=US>United States</option>
<option value=MK>North Macedonia</option>
<option value=HU>Hungary</option>
<option value=DE>Germany</option>
</select>
<label for=signUpPassword>Password:</label>
<input type=password id=signUpPassword required autocomplete=new-password>
<label for=signUpBirthdate>Birthdate:</label>
<input type=date id=signUpBirthdate required>
<button type=submit id=signUpSubmit>Sign Up</button>
<p id=signUpError class=error-message></p>
<p class=link-text><button type=button id=toLogin>Already have an account? Login</button></p>
</form>
</section>
<section id=forgotPasswordSection class=hidden>
<h2 id=forgotPasswordTitle>Forgot Password</h2>
<p id=forgotPasswordInstructions>Please enter your email. If an account is associated with it, we will send you your account details (username and password) via email.</p>
<form id=forgotPasswordForm>
<label for=forgotPasswordEmail>Email:</label>
<input type=email id=forgotPasswordEmail required autocomplete=email>
<button type=submit id=sendRecoveryEmail>Send Recovery Email</button>
<p id=forgotPasswordMessage class=success-message></p>
<p id=forgotPasswordError class=error-message></p>
<p class=link-text><button type=button id=backToLoginFromForgot>Back to Login</button></p>
</form>
</section>
<section id=profileSection class=hidden>
<div id=profileHeader>
<div id=profileAvatar>
<img src="" alt="User Avatar">
</div>
<div id=profileInfo>
<p><strong id=profileUsernameLabel>Username:</strong> <span id=profileUsername></span></p>
<p><strong id=profileCountryLabel>Country:</strong> <span id=profileCountry></span></p>
<p><strong id=profileRankingPlaceLabel>XP Ranking Place:</strong> <span id=profileRankingPlace></span></p>
<div id=profileStats>
<div id=profileXPLabel>XP: <span id=profileXP>0</span></div>
<div id=profileLevelLabel>Level: <span id=profileLevel>1</span></div>
<div id=profileFriendsCountLabel>Friends: <span id=profileFriendsCount>0</span></div>
<div id=profileGoldLabel>Gold: <span id=profileGold>0</span></div>
</div>
</div>
</div>
<nav id=tabs>
<button data-tab=gamesTab class=active aria-selected=true id=gamesTabButton>Games</button>
<button data-tab=marketplaceTab aria-selected=false id=marketplaceTabButton>Marketplace</button>
<button data-tab=buildTab aria-selected=false id=buildTabButton>Build</button>
<button data-tab=newGameTab aria-selected=false id=newGameTabButton>New Game</button>
<button data-tab=newsTab aria-selected=false id=newsTabButton>News</button>
<button data-tab=rankingTab aria-selected=false id=rankingTabButton>Ranking</button>
<button data-tab=postsTab aria-selected=false id=postsTabButton>Posts</button>
<button data-tab=friendsTab aria-selected=false id=friendsTabButton>Friends</button>
<button id=checkThisBtn class=hidden>Check this</button>
<button id=btnLogout>Logout</button>
</nav>
<div id=tabContents>
<div id=gamesTab class="tabContent active">
<h3 id=gamesTabTitle>Games</h3>
<p id=gamesWelcomeText>Welcome to your games! Start a new adventure or continue an existing one.</p>
<button id=buildNewGameBtn class=primary>Build New Game</button>
<h4 id=myGamesListTitle>My Games</h4>
<div id=myGamesList class=game-list-container>
</div>
<h4 id=publishedGamesListTitle>Published Games</h4>
<div id=publishedGamesList class=game-list-container>
</div>
</div>
<div id=marketplaceTab class="tabContent hidden">
<h3 id=marketplaceTabTitle>Marketplace</h3>
<p id=marketplaceDescription>Buy and sell items, weapons, and armor here.</p>
<p id=marketplaceUnderConstruction><em>Marketplace is under construction.</em></p>
</div>
<div id=buildTab class="tabContent hidden">
<h3 id=buildTabTitle>Build</h3>
<p id=buildDescription>Craft new items or build your base.</p>
<p id=buildUnderConstruction><em>Build section is under construction.</em></p>
</div>
<div id=newGameTab class="tabContent hidden">
<h3 id=newGameTabTitle>New Game</h3>
<p id=newGameDescription>Choose your game type and begin a new journey.</p>
<p id=newGameComingSoon><em>Feature coming soon.</em></p>
</div>
<div id=newsTab class="tabContent hidden">
<h3 id=newsTabTitle>News</h3>
<p id=newsDescription>Stay updated with the latest game news and community announcements.</p>
<p id=noNewsYet>No news articles available at the moment. Check back soon!</p>
</div>
<div id=rankingTab class="tabContent hidden">
<h3 id=rankingTabTitle>XP Ranking</h3>
<div id=rankingTypeButtons>
<button data-ranking-type=overall class=active id=overallRankingBtn>Overall Ranking</button>
<button data-ranking-type=weekly id=weeklyRankingBtn>Weekly Ranking</button>
<button data-ranking-type=monthly id=monthlyRankingBtn>Monthly Ranking</button>
<button data-ranking-type=yearly id=yearlyRankingBtn>Yearly Ranking</button>
<button data-ranking-type=global id=globalRankingBtn>Global Ranking (by country)</button>
</div>
<table id=rankingTable>
<thead>
<tr>
<th>Place</th>
<th>Username</th>
<th>XP</th>
<th>Level</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
<div id=postsTab class="tabContent hidden">
<h3 id=postsTabTitle>Community Posts</h3>
<div id=writePostSection>
<label for=postContent id=writePostLabel>Write your post:</label>
<textarea id=postContent placeholder="What's on your mind?"></textarea>
<button id=publishPostBtn>Publish</button>
<p id=postMessage class=success-message></p>
</div>
<div id=communityPosts>
</div>
</div>
<div id=friendsTab class="tabContent hidden">
<h3 id=friendsTabTitle>Friends</h3>
<div class=friends-search>
<input id=friendSearchInput placeholder="Wyszukaj u≈ºytkownika...">
<button id=searchFriendBtn>Szukaj</button>
</div>
<div id=friendSearchResults class=user-list>
</div>
<div class=my-friends>
<h3 id=myFriendsListTitle>Moi Przyjaciele</h3>
<ul id=myFriendsList>
</ul>
</div>
</div>
<div id=gameBuilderTab class="tabContent hidden">
<h3 id=gameBuilderTitle>Build Your Game: <span id=currentBuildingGameName></span></h3>
<div class=builder-controls>
<div class=builder-tools>
<div class="builder-tool-item selected" data-tool=hammer id=toolHammer>
<img src="https://placehold.co/28x28/cccccc/000000?text=üî®" alt=Hammer>
<span id=toolHammerLabel>Hammer (Place Block)</span>
</div>
<div class=builder-tool-item data-tool=eraser id=toolEraser>
<img src="https://placehold.co/28x28/cccccc/000000?text=üßΩ" alt=Eraser>
<span id=toolEraserLabel>Eraser (Delete Block)</span>
</div>
<div class=builder-tool-item data-tool=bucket id=toolBucket>
<img src="https://placehold.co/28x28/cccccc/000000?text= buckets" alt=Bucket>
<span id=toolBucketLabel>Bucket (Color Block)</span>
</div>
<div class=color-picker-container id=blockColorPicker>
</div>
</div>
<div id=gameCanvasContainer>
<canvas id=gameCanvas></canvas>
</div>
<div class=builder-inventory>
<div class=inventory-category id=modelsCategory>Models</div>
<div id=inventoryModels>
</div>
<div class=inventory-category id=weaponsCategory>Weapons</div>
<div id=inventoryWeapons>
</div>
<div class=inventory-category id=logicCategory>Logic</div>
<div id=inventoryLogic>
</div>
<button id=createNewModelBtn>Create New Model</button>
<button id=selectBlockColorBtn>Select Block Color</button>
</div>
</div>
<div class=builder-actions>
<button id=takeScreenshotBtn>Take Screenshot</button>
<button id=publishGameBtn>Publish Game</button>
<button id=backToGamesListBtn>Back to Games List</button>
</div>
<p id=gameBuilderMessage class=success-message></p>
</div>
<div id=playGameSection class="tabContent hidden">
<h3 id=playGameTitle>Play Game: <span id=playingGameName></span></h3>
<div id=playGameContent>
<p id=playGameInstructions>This is a simulated game. Imagine playing it now!</p>
<canvas id=playGameCanvas></canvas>
<button id=returnToGamesListBtn class=primary>Return to Games List</button>
</div>
</div>
</div>
</section>
<section id=allChatsSection class=hidden>
<h2 id=allChatsTitle>All Private and Game Chats (Guest Access)</h2>
<p id=allChatsDescription>This content is only visible to 'guest' users logged in with password 'Freeaccount'.</p>
<div id=chatsContent>
</div>
</section>
</main>
<div id=reportUserModal class="modal hidden">
<div class=modal-content>
<span class=close-button>&times;</span>
<h2 id=reportUserModalHeader>Zg≈Ço≈õ U≈ºytkownika: <span id=reportUsernameTarget></span></h2>
<p id=reportReasonLabel>Wybierz pow√≥d zg≈Çoszenia:</p>
<form id=reportForm>
<label>
<input type=radio name=reportReason value=sexualContent> <span id=sexualContentReason>Seksualna tre≈õƒá</span>
</label><br>
<label>
<input type=radio name=reportReason value=hateSpeech> <span id=hateSpeechReason>Mowa nienawi≈õci / Brzydkie s≈Çowa</span>
</label><br>
<label>
<input type=radio name=reportReason value=personalData> <span id=personalDataReason>Udostƒôpnianie danych osobowych</span>
</label><br>
<label>
<input type=radio name=reportReason value=maliciousLink> <span id=maliciousLinkReason>Wysy≈Çanie nieznanych/z≈Ço≈õliwych link√≥w</span>
</label><br>
<label>
<input type=radio name=reportReason value=threats> <span id=threatsReason>Gro≈ºenie</span>
</label><br>
<label>
<input type=radio name=reportReason value=cheating> <span id=cheatingReason>Cheaty</span>
</label><br>
<label>
<input type=radio name=reportReason value=adminImpersonation> <span id=adminImpersonationReason>Podawanie siƒô za admina</span>
</label><br>
<label>
<input type=radio name=reportReason value=passwordSharing> <span id=passwordSharingReason>Udostƒôpnianie cudzego has≈Ça</span>
</label><br>
<label>
<input type=radio name=reportReason value=other> <span id=otherReason>Inne</span> (opcjonalnie doprecyzuj poni≈ºej)
</label><br>
<textarea id=reportComment placeholder="Dodatkowe uwagi (opcjonalnie)"></textarea><br>
<button type=submit id=sendReportBtn>Wy≈õlij Zg≈Çoszenie</button>
<p id=reportMessage class=error-message></p>
</form>
</div>
</div>
<script>const LANG={en:{login:"Login",signup:"Sign Up",username:"Username",password:"Password",email:"Email (optional)",country:"Country",birthdate:"Birthdate",selectCharacter:"Select your character:",dontHaveAccount:"Don't have an account? Sign Up",alreadyHaveAccount:"Already have an account? Login",rankingXPPlace:"XP Ranking Place:",games:"Games",marketplace:"Marketplace",build:"Build",newGame:"New Game",news:"News",ranking:"Ranking",posts:"Posts",startNewGame:"Start New Game",loginError:"Incorrect username or password.",signUpError:"Please fill in all required fields and select a character.",logout:"Logout",checkThis:"Check this",allChatsTitle:"All Private and Game Chats (Guest Access)",allChatsDescription:"This content is only visible to 'guest' users logged in with password 'Freeaccount'.",forgotPassword:"Forgot Password?",forgotPasswordTitle:"Forgot Password",forgotPasswordInstructions:"Please enter your email. If an account is associated with it, we will send you your account details (username and password) via email.",sendRecoveryEmail:"Send Recovery Email",backToLogin:"Back to Login",recoveryEmailSent:"If an account exists with this email, your account details (username: {username}, password: {password}) have been sent to your email. (Simulation)",recoveryEmailNotFound:"No account found with that email or no email provided for the account. Please check your email or try signing up.",postsTabTitle:"Community Posts",writePostLabel:"Write your post:",publishPostBtn:"Publish",postContentPlaceholder:"What's on your mind?",postPublished:"Post successfully published!",postEmpty:"Post cannot be empty.",overallRanking:"Overall Ranking",weeklyRanking:"Weekly Ranking",monthlyRanking:"Monthly Ranking",yearlyRanking:"Yearly Ranking",globalRankingCountry:"Global Ranking (by country)",rankingTabTitle:"XP Ranking",friends:"Friends",search:"Search",myFriends:"My Friends",noSearchResults:"No search results found.",addFriend:"Add Friend",alreadyFriends:"Already Friends",cannotAddSelf:"Cannot add yourself as a friend.",friendAdded:"User {username} has been added to your friends list.",noFriendsYet:"You don't have any friends yet.",reportUser:"Report",reportUserModalTitle:"Report User:",reportReason:"Select report reason:",sexualContent:"Sexual content",hateSpeech:"Hate speech / Bad language",personalData:"Sharing personal data",maliciousLink:"Sending unknown/malicious links",threats:"Threats",cheating:"Cheating",adminImpersonation:"Impersonating an admin",passwordSharing:"Sharing someone else's password",other:"Other",additionalComments:"Additional comments (optional)",sendReport:"Send Report",reportSuccess:"Report submitted successfully. Thank you!",reportNoReason:"Please select a report reason.",reportCannotReportSelf:"You cannot report yourself.",noPostsYet:"No posts yet. Be the first to share something!",noNewsYet:"No news articles available at the moment. Check back soon!",gamesWelcomeText:"Welcome to your games! Start a new adventure or continue an existing one.",buildNewGame:"Build New Game",myGamesListTitle:"My Games",publishedGamesListTitle:"Published Games",gameBuilderTitle:"Build Your Game:",toolHammerLabel:"Hammer (Place Block)",toolEraserLabel:"Eraser (Delete Block)",toolBucketLabel:"Bucket (Color Block)",modelsCategory:"Models",weaponsCategory:"Weapons",logicCategory:"Logic",createNewModel:"Create New Model",selectBlockColor:"Select Block Color",takeScreenshot:"Take Screenshot",publishGame:"Publish Game",backToGamesList:"Back to Games List",gamePublishedSuccess:"Game '{gameName}' published successfully!",gameSaved:"Game '{gameName}' saved.",gameNamePrompt:"Enter a name for your new game:",selectGameType:"Select game type:",baseTemple:"Base Temple",parkour:"Parkour",island:"Island",playGameTitle:"Play Game:",playGameInstructions:"This is a simulated game. Imagine playing it now!",returnToGamesList:"Return to Games List",gameNotPublished:"This game is not yet published. You can't play it until it's published.",noGamesYet:"You haven't created any games yet. Start building!",noPublishedGames:"No games have been published yet."},pl:{login:"Zaloguj siƒô",signup:"Zarejestruj siƒô",username:"Nazwa u≈ºytkownika",password:"Has≈Ço",email:"E-mail (opcjonalnie)",country:"Kraj",birthdate:"Data urodzenia",selectCharacter:"Wybierz swojƒÖ postaƒá:",dontHaveAccount:"Nie masz konta? Zarejestruj siƒô",alreadyHaveAccount:"Masz ju≈º konto? Zaloguj siƒô",rankingXPPlace:"Miejsce w rankingu XP:",games:"Gry",marketplace:"Rynek",build:"Buduj",newGame:"Nowa gra",news:"Aktualno≈õci",ranking:"Ranking",posts:"Posty",startNewGame:"Rozpocznij nowƒÖ grƒô",loginError:"Nieprawid≈Çowa nazwa u≈ºytkownika lub has≈Ço.",signUpError:"Proszƒô wype≈Çniƒá wszystkie wymagane pola i wybraƒá postaƒá.",logout:"Wyloguj siƒô",checkThis:"Sprawd≈∫ to",allChatsTitle:"Wszystkie prywatne czaty i czaty z gier (Dostƒôp go≈õcia)",allChatsDescription:"Ta zawarto≈õƒá jest widoczna tylko dla u≈ºytkownik√≥w 'go≈õƒá' zalogowanych has≈Çem 'Freeaccount'.",forgotPassword:"Zapomnia≈Çe≈õ has≈Ça?",forgotPasswordTitle:"Zapomnia≈Çe≈õ has≈Ça",forgotPasswordInstructions:"Proszƒô podaƒá sw√≥j adres e-mail. Je≈õli istnieje konto z nim powiƒÖzane, wy≈õlemy Ci dane konta (nazwa u≈ºytkownika i has≈Ço) e-mailem.",sendRecoveryEmail:"Wy≈õlij e-mail odzyskiwania",backToLogin:"Wr√≥ƒá do logowania",recoveryEmailSent:"Je≈õli istnieje konto z tym adresem e-mail, dane Twojego konta (nazwa u≈ºytkownika: {username}, has≈Ço: {password}) zosta≈Çy wys≈Çane na Tw√≥j adres e-mail. (Symulacja)",recoveryEmailNotFound:"Nie znaleziono konta z tym adresem e-mail lub nie podano adresu e-mail dla konta. Sprawd≈∫ sw√≥j adres e-mail lub spr√≥buj siƒô zarejestrowaƒá.",postsTabTitle:"Posty spo≈Çeczno≈õci",writePostLabel:"Napisz swojƒÖ wiadomo≈õƒá:",publishPostBtn:"Opublikuj",postContentPlaceholder:"Co masz na my≈õli?",postPublished:"Post zosta≈Ç pomy≈õlnie opublikowany!",postEmpty:"Wiadomo≈õƒá nie mo≈ºe byƒá pusta.",overallRanking:"Og√≥lny ranking",weeklyRanking:"Ranking tygodniowy",monthlyRanking:"Ranking miesiƒôczny",yearlyRanking:"Ranking roczny",globalRankingCountry:"Globalny ranking (wed≈Çug kraju)",rankingTabTitle:"Ranking XP",friends:"Znajomi",search:"Szukaj",myFriends:"Moi Przyjaciele",noSearchResults:"Brak wynik√≥w wyszukiwania.",addFriend:"Dodaj znajomego",alreadyFriends:"Jeste≈õcie ju≈º znajomymi",cannotAddSelf:"Nie mo≈ºesz dodaƒá samego siebie do znajomych.",friendAdded:"U≈ºytkownik {username} zosta≈Ç dodany do listy znajomych.",noFriendsYet:"Nie masz jeszcze znajomych.",reportUser:"Zg≈Ço≈õ",reportUserModalTitle:"Zg≈Ço≈õ U≈ºytkownika:",reportReason:"Wybierz pow√≥d zg≈Çoszenia:",sexualContent:"Tre≈õƒá seksualna",hateSpeech:"Mowa nienawi≈õci / Wulgaryzmy",personalData:"Udostƒôpnianie danych osobowych",maliciousLink:"Wysy≈Çanie nieznanych/z≈Ço≈õliwych link√≥w",threats:"Gro≈∫by",cheating:"Oszustwa",adminImpersonation:"Podawanie siƒô za administratora",passwordSharing:"Udostƒôpnianie cudzego has≈Ça",other:"Inne",additionalComments:"Dodatkowe uwagi (opcjonalnie)",sendReport:"Wy≈õlij Zg≈Çoszenie",reportSuccess:"Zg≈Çoszenie zosta≈Ço pomy≈õlnie wys≈Çane. Dziƒôkujemy!",reportNoReason:"Proszƒô wybraƒá pow√≥d zg≈Çoszenia.",reportCannotReportSelf:"Nie mo≈ºesz zg≈Çosiƒá samego siebie.",noPostsYet:"Brak post√≥w. BƒÖd≈∫ pierwszy, kt√≥ry co≈õ udostƒôpni!",noNewsYet:"Brak dostƒôpnych artyku≈Ç√≥w z wiadomo≈õciami. Sprawd≈∫ ponownie wkr√≥tce!",gamesWelcomeText:"Witaj w strefie gier! Rozpocznij nowƒÖ przygodƒô lub kontynuuj istniejƒÖcƒÖ.",buildNewGame:"Zbuduj nowƒÖ grƒô",myGamesListTitle:"Moje Gry",publishedGamesListTitle:"Opublikowane Gry",gameBuilderTitle:"Buduj swojƒÖ grƒô:",toolHammerLabel:"M≈Çotek (Ustaw blok)",toolEraserLabel:"Gumka (Usu≈Ñ blok)",toolBucketLabel:"Wiadro (Koloruj blok)",modelsCategory:"Modele",weaponsCategory:"Bronie",logicCategory:"Logika",createNewModel:"Stw√≥rz nowy model",selectBlockColor:"Wybierz kolor bloku",takeScreenshot:"Zr√≥b zrzut ekranu",publishGame:"Opublikuj grƒô",backToGamesList:"Wr√≥ƒá do listy gier",gamePublishedSuccess:"Gra '{gameName}' zosta≈Ça pomy≈õlnie opublikowana!",gameSaved:"Gra '{gameName}' zapisana.",gameNamePrompt:"Podaj nazwƒô dla swojej nowej gry:",selectGameType:"Wybierz typ gry:",baseTemple:"≈öwiƒÖtynia Bazowa",parkour:"Prakour",island:"Wyspa",playGameTitle:"Graj w grƒô:",playGameInstructions:"To jest symulowana gra. Wyobra≈∫ sobie, ≈ºe teraz w niƒÖ grasz!",returnToGamesList:"Wr√≥ƒá do listy gier",gameNotPublished:"Ta gra nie jest jeszcze opublikowana. Nie mo≈ºesz w niƒÖ graƒá, dop√≥ki nie zostanie opublikowana.",noGamesYet:"Nie stworzy≈Çe≈õ jeszcze ≈ºadnych gier. Zacznij budowaƒá!",noPublishedGames:"≈ªadne gry nie zosta≈Çy jeszcze opublikowane."},mk:{login:"–ù–∞—ò–∞–≤–∞",signup:"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—ò–∞",username:"–ö–æ—Ä–∏—Å–Ω–∏—á–∫–æ –∏–º–µ",password:"–õ–æ–∑–∏–Ω–∫–∞",email:"–ï-–ø–æ—à—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)",country:"–î—Ä–∂–∞–≤–∞",birthdate:"–î–∞—Ç—É–º –Ω–∞ —Ä–∞—ì–∞—ö–µ",selectCharacter:"–ò–∑–±–µ—Ä–∏ –≥–æ —Å–≤–æ—ò–æ—Ç –∫–∞—Ä–∞–∫—Ç–µ—Ä:",dontHaveAccount:"–ù–µ–º–∞—Ç–µ —Å–º–µ—Ç–∫–∞? –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞—ò—Ç–µ —Å–µ",alreadyHaveAccount:"–í–µ—ú–µ –∏–º–∞—Ç–µ —Å–º–µ—Ç–∫–∞? –ù–∞—ò–∞–≤–µ—Ç–µ —Å–µ",rankingXPPlace:"–ú–µ—Å—Ç–æ –Ω–∞ —Ä–∞–Ω–≥ –ª–∏—Å—Ç–∞—Ç–∞ –ø–æ XP:",games:"–ò–≥—Ä–∏",marketplace:"–ü–∞–∑–∞—Ä",build:"–ò–∑–≥—Ä–∞–¥–±–∞",newGame:"–ù–æ–≤–∞ –∏–≥—Ä–∞",news:"–í–µ—Å—Ç–∏",ranking:"–†–∞–Ω–≥ –ª–∏—Å—Ç–∞",posts:"–û–±—ò–∞–≤–∏",startNewGame:"–ó–∞–ø–æ—á–Ω–∏ –Ω–æ–≤–∞ –∏–≥—Ä–∞",loginError:"–ü–æ–≥—Ä–µ—à–Ω–æ –∫–æ—Ä–∏—Å–Ω–∏—á–∫–æ –∏–º–µ –∏–ª–∏ –ª–æ–∑–∏–Ω–∫–∞.",signUpError:"–í–µ –º–æ–ª–∏–º–µ –ø–æ–ø–æ–ª–Ω–µ—Ç–µ –≥–∏ —Å–∏—Ç–µ –∑–∞–¥–æ–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–∏—ö–∞ –∏ –∏–∑–±–µ—Ä–µ—Ç–µ –∫–∞—Ä–∞–∫—Ç–µ—Ä.",logout:"–û–¥—ò–∞–≤–∏ —Å–µ",checkThis:"–ü—Ä–æ–≤–µ—Ä–∏ –≥–æ –æ–≤–∞",allChatsTitle:"–°–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–∏ –æ–¥ –∏–≥—Ä–∏ (–ì–æ—Å—Ç–∏–Ω—Å–∫–∏ –ø—Ä–∏—Å—Ç–∞–ø)",allChatsDescription:"–û–≤–∞–∞ —Å–æ–¥—Ä–∂–∏–Ω–∞ –µ –≤–∏–¥–ª–∏–≤–∞ —Å–∞–º–æ –∑–∞ '–≥–æ—Å—Ç–∏–Ω' –∫–æ—Ä–∏—Å–Ω–∏—Ü–∏ –Ω–∞—ò–∞–≤–µ–Ω–∏ —Å–æ –ª–æ–∑–∏–Ω–∫–∞—Ç–∞ 'Freeaccount'.",forgotPassword:"–ó–∞–±–æ—Ä–∞–≤–µ–Ω–∞ –ª–æ–∑–∏–Ω–∫–∞?",forgotPasswordTitle:"–ó–∞–±–æ—Ä–∞–≤–µ–Ω–∞ –ª–æ–∑–∏–Ω–∫–∞",forgotPasswordInstructions:"–í–µ –º–æ–ª–∏–º–µ –≤–Ω–µ—Å–µ—Ç–µ —ò–∞ –≤–∞—à–∞—Ç–∞ –µ-–ø–æ—à—Ç–∞. –î–æ–∫–æ–ª–∫—É –ø–æ—Å—Ç–æ–∏ —Å–º–µ—Ç–∫–∞ –ø–æ–≤—Ä–∑–∞–Ω–∞ —Å–æ –Ω–µ–∞, —ú–µ –≤–∏ –≥–∏ –∏—Å–ø—Ä–∞—Ç–∏–º–µ –¥–µ—Ç–∞–ª–∏—Ç–µ –∑–∞ –≤–∞—à–∞—Ç–∞ —Å–º–µ—Ç–∫–∞ (–∫–æ—Ä–∏—Å–Ω–∏—á–∫–æ –∏–º–µ –∏ –ª–æ–∑–∏–Ω–∫–∞) –ø–æ –µ-–ø–æ—à—Ç–∞.",sendRecoveryEmail:"–ò—Å–ø—Ä–∞—Ç–∏ –µ-–ø–æ—à—Ç–∞ –∑–∞ –æ–±–Ω–æ–≤–∞",backToLogin:"–ù–∞–∑–∞–¥ –Ω–∞ –ù–∞—ò–∞–≤–∞",recoveryEmailSent:"–î–æ–∫–æ–ª–∫—É –ø–æ—Å—Ç–æ–∏ —Å–º–µ—Ç–∫–∞ —Å–æ –æ–≤–∞–∞ –µ-–ø–æ—à—Ç–∞, –¥–µ—Ç–∞–ª–∏—Ç–µ –∑–∞ –≤–∞—à–∞—Ç–∞ —Å–º–µ—Ç–∫–∞ (–∫–æ—Ä–∏—Å–Ω–∏—á–∫–æ –∏–º–µ: {username}, –ª–æ–∑–∏–Ω–∫–∞: {password}) —Å–µ –∏—Å–ø—Ä–∞—Ç–µ–Ω–∏ –Ω–∞ –≤–∞—à–∞—Ç–∞ –µ-–ø–æ—à—Ç–∞. (–°–∏–º—É–ª–∞—Ü–∏—ò–∞)",recoveryEmailNotFound:"–ù–µ –µ –ø—Ä–æ–Ω–∞—ò–¥–µ–Ω–∞ —Å–º–µ—Ç–∫–∞ —Å–æ —Ç–∞–∞ –µ-–ø–æ—à—Ç–∞ –∏–ª–∏ –Ω–µ –µ –æ–±–µ–∑–±–µ–¥–µ–Ω–∞ –µ-–ø–æ–ø–æ—à—Ç–∞ –∑–∞ —Å–º–µ—Ç–∫–∞—Ç–∞. –í–µ –º–æ–ª–∏–º–µ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ —ò–∞ –≤–∞—à–∞—Ç–∞ –µ-–ø–æ—à—Ç–∞ –∏–ª–∏ –æ–±–∏–¥–µ—Ç–µ —Å–µ –¥–∞ —Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–∞—Ç–µ.",postsTabTitle:"–û–±—ò–∞–≤–∏ –Ω–∞ –∑–∞–µ–¥–Ω–∏—Ü–∞—Ç–∞",writePostLabel:"–ù–∞–ø–∏—à–∏ —ò–∞ –≤–∞—à–∞—Ç–∞ –æ–±—ò–∞–≤–∞:",publishPostBtn:"–û–±—ò–∞–≤–∏",postContentPlaceholder:"–®—Ç–æ –≤–∏ –µ –Ω–∞ —É–º?",postPublished:"–û–±—ò–∞–≤–∞—Ç–∞ –µ —É—Å–ø–µ—à–Ω–æ –æ–±—ò–∞–≤–µ–Ω–∞!",postEmpty:"–û–±—ò–∞–≤–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –±–∏–¥–µ –ø—Ä–∞–∑–Ω–∞.",overallRanking:"–í–∫—É–ø–Ω–∞ —Ä–∞–Ω–≥ –ª–∏—Å—Ç–∞",weeklyRanking:"–ù–µ–¥–µ–ª–Ω–∞ —Ä–∞–Ω–≥ –ª–∏—Å—Ç–∞",monthlyRanking:"–ú–µ—Å–µ—á–Ω–∞ —Ä–∞–Ω–≥ –ª–∏—Å—Ç–∞",yearlyRanking:"–ì–æ–¥–∏—à–Ω–∞ —Ä–∞–Ω–≥ –ª–∏—Å—Ç–∞",globalRankingCountry:"–ì–ª–æ–±–∞–ª–Ω–∞ —Ä–∞–Ω–≥ –ª–∏—Å—Ç–∞ (–ø–æ –¥—Ä–∂–∞–≤–∞)",rankingTabTitle:"XP –†–∞–Ω–≥ –ª–∏—Å—Ç–∞",friends:"–ü—Ä–∏—ò–∞—Ç–µ–ª–∏",search:"–ë–∞—Ä–∞—ò",myFriends:"–ú–æ–∏ –ü—Ä–∏—ò–∞—Ç–µ–ª–∏",noSearchResults:"–ù–µ–º–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏ –æ–¥ –ø—Ä–µ–±–∞—Ä—É–≤–∞—ö–µ—Ç–æ.",addFriend:"–î–æ–¥–∞—ò –ø—Ä–∏—ò–∞—Ç–µ–ª",alreadyFriends:"–í–µ—ú–µ –ø—Ä–∏—ò–∞—Ç–µ–ª–∏",cannotAddSelf:"–ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ —Å–µ –¥–æ–¥–∞–¥–µ—Ç–µ —Å–µ–±–µ—Å–∏ –∫–∞–∫–æ –ø—Ä–∏—ò–∞—Ç–µ–ª.",friendAdded:"–ö–æ—Ä–∏—Å–Ω–∏–∫–æ—Ç {username} –µ –¥–æ–¥–∞–¥–µ–Ω –≤–æ –≤–∞—à–∏—Ç–µ –ø—Ä–∏—ò–∞—Ç–µ–ª–∏.",noFriendsYet:"–°√® —É—à—Ç–µ –Ω–µ–º–∞—Ç–µ –ø—Ä–∏—ò–∞—Ç–µ–ª–∏.",reportUser:"–ü—Ä–∏—ò–∞–≤–∏",reportUserModalTitle:"–ü—Ä–∏—ò–∞–≤–∏ –ö–æ—Ä–∏—Å–Ω–∏–∫:",reportReason:"–ò–∑–±–µ—Ä–µ—Ç–µ –ø—Ä–∏—á–∏–Ω–∞ –∑–∞ –ø—Ä–∏—ò–∞–≤–∞:",sexualContent:"–°–µ–∫—Å—É–∞–ª–Ω–∞ —Å–æ–¥—Ä–∂–∏–Ω–∞",hateSpeech:"–ì–æ–≤–æ—Ä –Ω–∞ –æ–º—Ä–∞–∑–∞ / –õ–æ—à —ò–∞–∑–∏–∫",personalData:"–°–ø–æ–¥–µ–ª—É–≤–∞—ö–µ –ª–∏—á–Ω–∏ –ø–æ–¥–∞—Ç–æ—Ü–∏",maliciousLink:"–ò—Å–ø—Ä–∞—ú–∞—ö–µ –Ω–µ–ø–æ–∑–Ω–∞—Ç–∏/–∑–ª–æ–Ω–∞–º–µ—Ä–Ω–∏ –ª–∏–Ω–∫–æ–≤–∏",threats:"–ó–∞–∫–∞–Ω–∏",cheating:"–ú–∞–º–µ—ö–µ",adminImpersonation:"–ü—Ä–µ—Ç—Å—Ç–∞–≤—É–≤–∞—ö–µ –∫–∞–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",passwordSharing:"–°–ø–æ–¥–µ–ª—É–≤–∞—ö–µ —Ç—É—ì–∞ –ª–æ–∑–∏–Ω–∫–∞",other:"–î—Ä—É–≥–æ",additionalComments:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª–Ω–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)",sendReport:"–ò—Å–ø—Ä–∞—Ç–∏ –ü—Ä–∏—ò–∞–≤–∞",reportSuccess:"–ü—Ä–∏—ò–∞–≤–∞—Ç–∞ –µ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–Ω–µ—Å–µ–Ω–∞. –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º–µ!",reportNoReason:"–í–µ –º–æ–ª–∏–º–µ –∏–∑–±–µ—Ä–µ—Ç–µ –ø—Ä–∏—á–∏–Ω–∞ –∑–∞ –ø—Ä–∏—ò–∞–≤–∞.",reportCannotReportSelf:"–ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ —Å–µ –ø—Ä–∏—ò–∞–≤–∏—Ç–µ —Å–µ–±–µ—Å–∏.",noPostsYet:"–°√® —É—à—Ç–µ –Ω–µ–º–∞ –æ–±—ò–∞–≤–∏. –ë–∏–¥–µ—Ç–µ –ø—Ä–≤–∏–æ—Ç —à—Ç–æ —ú–µ —Å–ø–æ–¥–µ–ª–∏ –Ω–µ—à—Ç–æ!",noNewsYet:"–í–æ –º–æ–º–µ–Ω—Ç–æ–≤ –Ω–µ–º–∞ –¥–æ—Å—Ç–∞–ø–Ω–∏ –≤–µ—Å—Ç–∏. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –Ω–∞—Å–∫–æ—Ä–æ!",gamesWelcomeText:"–î–æ–±—Ä–µ–¥–æ—ò–¥–æ–≤—Ç–µ –≤–æ –≤–∞—à–∞—Ç–∞ –∑–æ–Ω–∞ –∑–∞ –∏–≥—Ä–∏! –ó–∞–ø–æ—á–Ω–µ—Ç–µ –Ω–æ–≤–∞ –∞–≤–∞–Ω—Ç—É—Ä–∞ –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–µ—Ç–µ —Å–æ –ø–æ—Å—Ç–æ–µ—á–∫–∞.",buildNewGame:"–ò–∑–≥—Ä–∞–¥–∏ –Ω–æ–≤–∞ –∏–≥—Ä–∞",myGamesListTitle:"–ú–æ–∏ –ò–≥—Ä–∏",publishedGamesListTitle:"–û–±—ò–∞–≤–µ–Ω–∏ –ò–≥—Ä–∏",gameBuilderTitle:"–ò–∑–≥—Ä–∞–¥–∏ —ò–∞ —Ç–≤–æ—ò–∞—Ç–∞ –∏–≥—Ä–∞:",toolHammerLabel:"–ß–µ–∫–∞–Ω (–ü–æ—Å—Ç–∞–≤–∏ –±–ª–æ–∫)",toolEraserLabel:"–ì—É–º–∞ (–ò–∑–±—Ä–∏—à–∏ –±–ª–æ–∫)",toolBucketLabel:"–ö–æ—Ñ–∞ (–ë–æ—ò–∞ –±–ª–æ–∫)",modelsCategory:"–ú–æ–¥–µ–ª–∏",weaponsCategory:"–û—Ä—É–∂—ò–∞",logicCategory:"–õ–æ–≥–∏–∫–∞",createNewModel:"–ö—Ä–µ–∏—Ä–∞—ò –Ω–æ–≤ –º–æ–¥–µ–ª",selectBlockColor:"–ò–∑–±–µ—Ä–∏ –±–æ—ò–∞ –Ω–∞ –±–ª–æ–∫",takeScreenshot:"–ù–∞–ø—Ä–∞–≤–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç",publishGame:"–û–±—ò–∞–≤–∏ –∏–≥—Ä–∞",backToGamesList:"–ù–∞–∑–∞–¥ –∫–æ–Ω –ª–∏—Å—Ç–∞—Ç–∞ —Å–æ –∏–≥—Ä–∏",gamePublishedSuccess:"–ò–≥—Ä–∞—Ç–∞ '{gameName}' –µ —É—Å–ø–µ—à–Ω–æ –æ–±—ò–∞–≤–µ–Ω–∞!",gameSaved:"–ò–≥—Ä–∞—Ç–∞ '{gameName}' –µ –∑–∞—á—É–≤–∞–Ω–∞.",gameNamePrompt:"–í–Ω–µ—Å–µ—Ç–µ –∏–º–µ –∑–∞ –≤–∞—à–∞—Ç–∞ –Ω–æ–≤–∞ –∏–≥—Ä–∞:",selectGameType:"–ò–∑–±–µ—Ä–µ—Ç–µ —Ç–∏–ø –Ω–∞ –∏–≥—Ä–∞:",baseTemple:"–û—Å–Ω–æ–≤–µ–Ω –•—Ä–∞–º",parkour:"–ü–∞—Ä–∫—É—Ä",island:"–û—Å—Ç—Ä–æ–≤",playGameTitle:"–ò–≥—Ä–∞—ò –∏–≥—Ä–∞:",playGameInstructions:"–û–≤–∞ –µ —Å–∏–º—É–ª–∏—Ä–∞–Ω–∞ –∏–≥—Ä–∞. –ó–∞–º–∏—Å–ª–µ—Ç–µ –¥–µ–∫–∞ —ò–∞ –∏–≥—Ä–∞—Ç–µ —Å–µ–≥–∞!",returnToGamesList:"–í—Ä–∞—Ç–∏ —Å–µ –Ω–∞ –ª–∏—Å—Ç–∞—Ç–∞ —Å–æ –∏–≥—Ä–∏",gameNotPublished:"–û–≤–∞–∞ –∏–≥—Ä–∞ —Å√® —É—à—Ç–µ –Ω–µ –µ –æ–±—ò–∞–≤–µ–Ω–∞. –ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ —ò–∞ –∏–≥—Ä–∞—Ç–µ –¥–æ–¥–µ–∫–∞ –Ω–µ –±–∏–¥–µ –æ–±—ò–∞–≤–µ–Ω–∞.",noGamesYet:"–°√® —É—à—Ç–µ –Ω–µ–º–∞—Ç–µ –∫—Ä–µ–∏—Ä–∞–Ω–æ –∏–≥—Ä–∏. –ó–∞–ø–æ—á–Ω–µ—Ç–µ —Å–æ –≥—Ä–∞–¥–µ—ö–µ!",noPublishedGames:"–°√® —É—à—Ç–µ –Ω–µ–º–∞ –æ–±—ò–∞–≤–µ–Ω–∏ –∏–≥—Ä–∏."},ru:{login:"–í—Ö–æ–¥",signup:"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",username:"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",password:"–ü–∞—Ä–æ–ª—å",email:"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)",country:"–°—Ç—Ä–∞–Ω–∞",birthdate:"–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è",selectCharacter:"–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞:",dontHaveAccount:"–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",alreadyHaveAccount:"–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏",rankingXPPlace:"–ú–µ—Å—Ç–æ –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ XP:",games:"–ò–≥—Ä—ã",marketplace:"–¢–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞",build:"–°—Ç—Ä–æ–∏—Ç—å",newGame:"–ù–æ–≤–∞—è –∏–≥—Ä–∞",news:"–ù–æ–≤–æ—Å—Ç–∏",ranking:"–†–µ–π—Ç–∏–Ω–≥",posts:"–°–æ–æ–±—â–µ–Ω–∏—è",startNewGame:"–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É",loginError:"–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å.",signUpError:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.",logout:"–í—ã–π—Ç–∏",checkThis:"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ",allChatsTitle:"–í—Å–µ –ª–∏—á–Ω—ã–µ –∏ –∏–≥—Ä–æ–≤—ã–µ —á–∞—Ç—ã (–≥–æ—Å—Ç–µ–≤–æ–π –¥–æ—Å—Ç—É–ø)",allChatsDescription:"–≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º 'guest', –≤–æ—à–µ–¥—à–∏–º —Å –ø–∞—Ä–æ–ª–µ–º 'Freeaccount'.",forgotPassword:"–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?",forgotPasswordTitle:"–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å",forgotPasswordInstructions:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã. –ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç —Å–≤—è–∑–∞–Ω —Å –Ω–µ–π, –º—ã –æ—Ç–ø—Ä–∞–≤–∏–º –≤–∞–º –¥–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å) –ø–æ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–µ.",sendRecoveryEmail:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è",backToLogin:"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫–æ –≤—Ö–æ–¥—É",recoveryEmailSent:"–ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å —ç—Ç–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–æ–π, –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ (–∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {username}, –ø–∞—Ä–æ–ª—å: {password}) –±—ã–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É. (–°–∏–º—É–ª—è—Ü–∏—è)",recoveryEmailNotFound:"–ê–∫–∫–∞—É–Ω—Ç —Å —Ç–∞–∫–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç–æ–π –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É –∏–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.",postsTabTitle:"–°–æ–æ–±—â–µ–Ω–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞",writePostLabel:"–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:",publishPostBtn:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å",postContentPlaceholder:"–ß—Ç–æ —É –≤–∞—Å –Ω–∞ —É–º–µ?",postPublished:"–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!",postEmpty:"–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.",overallRanking:"–û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥",weeklyRanking:"–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥",monthlyRanking:"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥",yearlyRanking:"–ï–∂–µ–≥–æ–¥–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥",globalRankingCountry:"–ì–ª–æ–±–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥ (–ø–æ —Å—Ç—Ä–∞–Ω–∞–º)",rankingTabTitle:"–†–µ–π—Ç–∏–Ω–≥ XP",friends:"–î—Ä—É–∑—å—è",search:"–ü–æ–∏—Å–∫",myFriends:"–ú–æ–∏ –¥—Ä—É–∑—å—è",noSearchResults:"–†–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.",addFriend:"–î–æ–±–∞–≤–∏—Ç—å –≤ –¥—Ä—É–∑—å—è",alreadyFriends:"–£–∂–µ –¥—Ä—É–∑—å—è",cannotAddSelf:"–ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å —Å–µ–±—è –≤ –¥—Ä—É–∑—å—è.",friendAdded:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å {username} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π.",noFriendsYet:"–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥—Ä—É–∑–µ–π.",reportUser:"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è",reportUserModalTitle:"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",reportReason:"–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –∂–∞–ª–æ–±—ã:",sexualContent:"–°–µ–∫—Å—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç",hateSpeech:"–†–∞–∑–∂–∏–≥–∞–Ω–∏–µ –Ω–µ–Ω–∞–≤–∏—Å—Ç–∏ / –ù–µ—Ü–µ–Ω–∑—É—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è",personalData:"–†–∞–∑–≥–ª–∞—à–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",maliciousLink:"–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö/–≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫",threats:"–£–≥—Ä–æ–∑—ã",cheating:"–ß–∏—Ç–µ—Ä—Å—Ç–≤–æ",adminImpersonation:"–í—ã–¥–∞—á–∞ —Å–µ–±—è –∑–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞",passwordSharing:"–°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á—É–∂–æ–≥–æ –ø–∞—Ä–æ–ª—è",other:"–î—Ä—É–≥–æ–µ",additionalComments:"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)",sendReport:"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É",reportSuccess:"–ñ–∞–ª–æ–±–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –°–ø–∞—Å–∏–±–æ!",reportNoReason:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –∂–∞–ª–æ–±—ã.",reportCannotReportSelf:"–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–µ–±—è.",noPostsYet:"–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ —á—Ç–æ-—Ç–æ –æ–ø—É–±–ª–∏–∫—É–µ—Ç!",noNewsYet:"–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ—Ç –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π. –ó–∞—Ö–æ–¥–∏—Ç–µ –ø–æ–∑–∂–µ!",gamesWelcomeText:"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∞—à–∏ –∏–≥—Ä—ã! –ù–∞—á–Ω–∏—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ.",buildNewGame:"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É",myGamesListTitle:"–ú–æ–∏ –∏–≥—Ä—ã",publishedGamesListTitle:"–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã",gameBuilderTitle:"–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –∏–≥—Ä—É:",toolHammerLabel:"–ú–æ–ª–æ—Ç–æ–∫ (–†–∞–∑–º–µ—Å—Ç–∏—Ç—å –±–ª–æ–∫)",toolEraserLabel:"–õ–∞—Å—Ç–∏–∫ (–£–¥–∞–ª–∏—Ç—å –±–ª–æ–∫)",toolBucketLabel:"–í–µ–¥—Ä–æ (–†–∞—Å–∫—Ä–∞—Å–∏—Ç—å –±–ª–æ–∫)",modelsCategory:"–ú–æ–¥–µ–ª–∏",weaponsCategory:"–û—Ä—É–∂–∏–µ",logicCategory:"–õ–æ–≥–∏–∫–∞",createNewModel:"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å",selectBlockColor:"–í—ã–±—Ä–∞—Ç—å —Ü–≤–µ—Ç –±–ª–æ–∫–∞",takeScreenshot:"–°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç",publishGame:"–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏–≥—Ä—É",backToGamesList:"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –∏–≥—Ä",gamePublishedSuccess:"–ò–≥—Ä–∞ '{gameName}' —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞!",gameSaved:"–ò–≥—Ä–∞ '{gameName}' —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞.",gameNamePrompt:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–π –Ω–æ–≤–æ–π –∏–≥—Ä—ã:",selectGameType:"–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∏–≥—Ä—ã:",baseTemple:"–ë–∞–∑–æ–≤—ã–π —Ö—Ä–∞–º",parkour:"–ü–∞—Ä–∫—É—Ä",island:"–û—Å—Ç—Ä–æ–≤",playGameTitle:"–ò–≥—Ä–∞—Ç—å –≤ –∏–≥—Ä—É:",playGameInstructions:"–≠—Ç–æ —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–≥—Ä–∞. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –∏–≥—Ä–∞–µ—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!",returnToGamesList:"–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –∏–≥—Ä",gameNotPublished:"–≠—Ç–∞ –∏–≥—Ä–∞ –µ—â–µ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏–≥—Ä–∞—Ç—å –≤ –Ω–µ–µ, –ø–æ–∫–∞ –æ–Ω–∞ –Ω–µ –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞.",noGamesYet:"–í—ã –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–ª–∏ –Ω–∏ –æ–¥–Ω–æ–π –∏–≥—Ä—ã. –ù–∞—á–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∏—Ç—å!",noPublishedGames:"–ò–≥—Ä—ã –ø–æ–∫–∞ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã."},hu:{login:"Bejelentkez√©s",signup:"Regisztr√°ci√≥",username:"Felhaszn√°l√≥n√©v",password:"Jelsz√≥",email:"E-mail (opcion√°lis)",country:"Orsz√°g",birthdate:"Sz√ºlet√©si d√°tum",selectCharacter:"V√°lassza ki karakter√©t:",dontHaveAccount:"Nincs fi√≥kja? Regisztr√°ljon",alreadyHaveAccount:"M√°r van fi√≥kja? Jelentkezzen be",rankingXPPlace:"XP rangsor helyez√©s:",games:"J√°t√©kok",marketplace:"Piact√©r",build:"√âp√≠t√©s",newGame:"√öj j√°t√©k",news:"H√≠rek",ranking:"Rangsor",posts:"Bejegyz√©sek",startNewGame:"√öj j√°t√©k ind√≠t√°sa",loginError:"Hib√°s felhaszn√°l√≥n√©v vagy jelsz√≥.",signUpError:"K√©rj√ºk, t√∂ltse ki az √∂sszes k√∂telez≈ë mez≈ët, √©s v√°lasszon karaktert.",logout:"Kijelentkez√©s",checkThis:"N√©zze meg ezt",allChatsTitle:"Minden priv√°t √©s j√°t√©k chat (Vend√©g hozz√°f√©r√©s)",allChatsDescription:"Ez a tartalom csak a 'guest' felhaszn√°l√≥k sz√°m√°ra l√°that√≥, akik 'Freeaccount' jelsz√≥val jelentkeztek be.",forgotPassword:"Elfelejtett jelsz√≥?",forgotPasswordTitle:"Elfelejtett jelsz√≥",forgotPasswordInstructions:"K√©rj√ºk, adja meg e-mail c√≠m√©t. Ha van hozz√° fi√≥k, elk√ºldj√ºk fi√≥kadatait (felhaszn√°l√≥n√©v √©s jelsz√≥) e-mailben.",sendRecoveryEmail:"Helyre√°ll√≠t√°si e-mail k√ºld√©se",backToLogin:"Vissza a bejelentkez√©shez",recoveryEmailSent:"Ha l√©tezik fi√≥k ezzel az e-mail c√≠mmel, fi√≥kadatai (felhaszn√°l√≥n√©v: {username}, jelsz√≥: {password}) elk√ºld√©sre ker√ºltek az e-mail c√≠m√©re. (Szimul√°ci√≥)",recoveryEmailNotFound:"Nincs fi√≥k ezzel az e-mail c√≠mmel, vagy nincs e-mail c√≠m megadva a fi√≥khoz. K√©rj√ºk, ellen≈ërizze e-mail c√≠m√©t, vagy pr√≥b√°lja meg regisztr√°lni.",postsTabTitle:"K√∂z√∂ss√©gi bejegyz√©sek",writePostLabel:"√çrja meg bejegyz√©s√©t:",publishPostBtn:"K√∂zz√©t√©tel",postContentPlaceholder:"Mi j√°r a fej√©ben?",postPublished:"Bejegyz√©s sikeresen k√∂zz√©t√©ve!",postEmpty:"A bejegyz√©s nem lehet √ºres.",overallRanking:"√ñsszes√≠tett rangsor",weeklyRanking:"Heti rangsor",monthlyRanking:"Havi rangsor",yearlyRanking:"√âves rangsor",globalRankingCountry:"Glob√°lis rangsor (orsz√°g szerint)",rankingTabTitle:"XP rangsor",friends:"Bar√°tok",search:"Keres√©s",myFriends:"Bar√°taim",noSearchResults:"Nincs tal√°lat.",addFriend:"Bar√°t hozz√°ad√°sa",alreadyFriends:"M√°r bar√°tok",cannotAddSelf:"Nem adhatja hozz√° mag√°t bar√°tk√©nt.",friendAdded:"{username} felhaszn√°l√≥ hozz√° lett adva a bar√°tlist√°j√°hoz.",noFriendsYet:"M√©g nincsenek bar√°tai.",reportUser:"Jelent√©s",reportUserModalTitle:"Felhaszn√°l√≥ jelent√©se:",reportReason:"V√°lassza ki a jelent√©s ok√°t:",sexualContent:"Szexu√°lis tartalom",hateSpeech:"Gy≈±l√∂letbesz√©d / Cs√∫nya nyelv",personalData:"Szem√©lyes adatok megoszt√°sa",maliciousLink:"Ismeretlen/rosszindulat√∫ linkek k√ºld√©se",threats:"Fenyeget√©sek",cheating:"Csal√°s",adminImpersonation:"Admin megszem√©lyes√≠t√©se",passwordSharing:"M√°s jelszav√°nak megoszt√°sa",other:"Egy√©b",additionalComments:"Tov√°bbi megjegyz√©sek (opcion√°lis)",sendReport:"Jelent√©s k√ºld√©se",reportSuccess:"Jelent√©s sikeresen elk√ºldve. K√∂sz√∂nj√ºk!",reportNoReason:"K√©rj√ºk, v√°lassza ki a jelent√©s ok√°t.",reportCannotReportSelf:"Nem jelentheti mag√°t.",noPostsYet:"M√©g nincsenek bejegyz√©sek. Legyen √ñn az els≈ë, aki megoszt valamit!",noNewsYet:"Jelenleg nincsenek h√≠rek. N√©zzen vissza k√©s≈ëbb!",gamesWelcomeText:"√údv√∂z√∂lj√ºk a j√°t√©kai k√∂z√∂tt! Kezdjen √∫j kalandot, vagy folytasson egy megl√©v≈ët.",buildNewGame:"√öj j√°t√©k √©p√≠t√©se",myGamesListTitle:"J√°t√©kaim",publishedGamesListTitle:"K√∂zz√©tett j√°t√©kok",gameBuilderTitle:"√âp√≠tse meg j√°t√©k√°t:",toolHammerLabel:"Kalap√°cs (Blokk elhelyez√©se)",toolEraserLabel:"Rad√≠r (Blokk t√∂rl√©se)",toolBucketLabel:"V√∂d√∂r (Blokk sz√≠nez√©se)",modelsCategory:"Modellek",weaponsCategory:"Fegyverek",logicCategory:"Logika",createNewModel:"√öj modell l√©trehoz√°sa",selectBlockColor:"Blokk sz√≠n√©nek kiv√°laszt√°sa",takeScreenshot:"K√©perny≈ëfelv√©tel k√©sz√≠t√©se",publishGame:"J√°t√©k k√∂zz√©t√©tele",backToGamesList:"Vissza a j√°t√©klist√°hoz",gamePublishedSuccess:"A(z) '{gameName}' j√°t√©k sikeresen k√∂zz√©t√©ve!",gameSaved:"A(z) '{gameName}' j√°t√©k mentve.",gameNamePrompt:"Adjon nevet √∫j j√°t√©k√°nak:",selectGameType:"V√°lassza ki a j√°t√©k t√≠pus√°t:",baseTemple:"Alap templom",parkour:"Parkour",island:"Sziget",playGameTitle:"J√°t√©k ind√≠t√°sa:",playGameInstructions:"Ez egy szimul√°lt j√°t√©k. K√©pzelje el, hogy most j√°tszik!",returnToGamesList:"Vissza a j√°t√©klist√°hoz",gameNotPublished:"Ez a j√°t√©k m√©g nincs k√∂zz√©t√©ve. Nem j√°tszhatja, am√≠g nem lesz k√∂zz√©t√©ve.",noGamesYet:"M√©g nem hozott l√©tre j√°t√©kokat. Kezdjen √©p√≠teni!",noPublishedGames:"M√©g nincsenek k√∂zz√©tett j√°t√©kok."}},$=e=>document.getElementById(e),show=e=>e&&e.classList.remove("hidden"),hide=e=>e&&e.classList.add("hidden"),sanitize=e=>String(e).replace(/[<>]/g,"");let currentLang=localStorage.getItem("pokregamLang")||"en",currentUser=null,users=JSON.parse(localStorage.getItem("pokregamUsers"))||[],posts=JSON.parse(localStorage.getItem("pokregamPosts"))||[],games=JSON.parse(localStorage.getItem("pokregamGames"))||[];async function saveUserToLocalStorage(e){const t=users.findIndex((t=>t.username===e.username));-1!==t?users[t]={...users[t],...e}:users.push(e),localStorage.setItem("pokregamUsers",JSON.stringify(users)),console.log("User saved/updated in local storage (simulated):",e),window.getCurrentUserId()&&await window.saveUserDataToFirestore(e)}async function loadUserFromLocalStorage(e){return users.find((t=>t.username===e))}async function updateProfileUI(e){if(!e)return void console.warn("No user data provided to updateProfileUI.");const t=e||currentUser;t?($("profileUsername").textContent=sanitize(t.username||"N/A"),$("profileCountry").textContent=sanitize(t.country||"N/A"),$("profileXP").textContent=void 0!==t.xp?t.xp:0,$("profileLevel").textContent=void 0!==t.level?t.level:1,$("profileFriendsCount").textContent=t.friends?t.friends.length:0,$("profileGold").textContent=void 0!==t.gold?t.gold:0,$("profileAvatar").querySelector("img").src=t.avatar||"https://placehold.co/80x80/cccccc/000000?text=üë§",updateRanking(),loadFriendsList(),loadMyGames(),loadPublishedGames()):clearProfileUI()}function clearProfileUI(){$("profileUsername").textContent="",$("profileCountry").textContent="",$("profileXP").textContent="0",$("profileLevel").textContent="1",$("profileFriendsCount").textContent="0",$("profileGold").textContent="0",$("profileAvatar").querySelector("img").src="https://placehold.co/80x80/cccccc/000000?text=üë§",$("profileRankingPlace").textContent="",$("myFriendsList").innerHTML="",$("myGamesList").innerHTML="",$("publishedGamesList").innerHTML=""}function translateUI(e){currentLang=e,localStorage.setItem("pokregamLang",e);const t=LANG[e];$("navGames").textContent=t.games,$("navMarketplace").textContent=t.marketplace,$("navBuild").textContent=t.build,$("navNews").textContent=t.news,$("navRanking").textContent=t.ranking,$("btnLogin").textContent=t.login,$("btnSignUp").textContent=t.signup,$("btnLogout").textContent=t.logout,$("checkThisBtn").textContent=t.checkThis,$("loginTitle").textContent=t.login,$("loginForm").querySelector('label[for="loginUsername"]').textContent=t.username+":",$("loginForm").querySelector('label[for="loginPassword"]').textContent=t.password+":",$("loginSubmit").textContent=t.login,$("loginError").textContent="",$("toSignUp").textContent=t.dontHaveAccount,$("forgotPasswordLink").textContent=t.forgotPassword,$("signUpTitle").textContent=t.signup,$("selectCharacter").textContent=t.selectCharacter,$("signUpForm").querySelector('label[for="signUpUsername"]').textContent=t.username+":",$("signUpForm").querySelector('label[for="signUpEmail"]').textContent=t.email+":",$("signUpForm").querySelector('label[for="signUpCountry"]').textContent=t.country+":",$("signUpForm").querySelector('label[for="signUpPassword"]').textContent=t.password+":",$("signUpForm").querySelector('label[for="signUpBirthdate"]').textContent=t.birthdate+":",$("signUpSubmit").textContent=t.signup,$("signUpError").textContent="",$("toLogin").textContent=t.alreadyHaveAccount,$("forgotPasswordTitle").textContent=t.forgotPasswordTitle,$("forgotPasswordInstructions").textContent=t.forgotPasswordInstructions,$("forgotPasswordForm").querySelector('label[for="forgotPasswordEmail"]').textContent=t.email+":",$("sendRecoveryEmail").textContent=t.sendRecoveryEmail,$("backToLoginFromForgot").textContent=t.backToLogin,$("forgotPasswordMessage").textContent="",$("forgotPasswordError").textContent="",$("profileUsernameLabel").textContent=t.username+": ",$("profileCountryLabel").textContent=t.country+": ",$("profileRankingPlaceLabel").textContent=t.rankingXPPlace+" ",$("profileXPLabel").childNodes[0].nodeValue="XP: ",$("profileLevelLabel").childNodes[0].nodeValue="Level: ",$("profileFriendsCountLabel").childNodes[0].nodeValue="Friends: ",$("profileGoldLabel").childNodes[0].nodeValue="Gold: ",$("gamesTabButton").textContent=t.games,$("marketplaceTabButton").textContent=t.marketplace,$("buildTabButton").textContent=t.build,$("newGameTabButton").textContent=t.newGame,$("newsTabButton").textContent=t.news,$("rankingTabButton").textContent=t.ranking,$("postsTabButton").textContent=t.posts,$("friendsTabButton").textContent=t.friends,$("gamesTabTitle").textContent=t.games,$("gamesWelcomeText").textContent=t.gamesWelcomeText,$("buildNewGameBtn").textContent=t.buildNewGame,$("myGamesListTitle").textContent=t.myGamesListTitle,$("publishedGamesListTitle").textContent=t.publishedGamesListTitle,$("marketplaceTabTitle").textContent=t.marketplace,$("marketplaceDescription").textContent=t.marketplaceDescription,$("marketplaceUnderConstruction").textContent=t.marketplaceUnderConstruction,$("buildTabTitle").textContent=t.build,$("buildDescription").textContent=t.buildDescription,$("buildUnderConstruction").textContent=t.buildUnderConstruction,$("newGameTabTitle").textContent=t.newGame,$("newGameDescription").textContent=t.newGameDescription,$("newGameComingSoon").textContent=t.newGameComingSoon,$("newsTabTitle").textContent=t.news,$("newsDescription").textContent=t.newsDescription,$("noNewsYet").textContent=t.noNewsYet,$("rankingTabTitle").textContent=t.rankingTabTitle,$("overallRankingBtn").textContent=t.overallRanking,$("weeklyRankingBtn").textContent=t.weeklyRanking,$("monthlyRankingBtn").textContent=t.monthlyRanking,$("yearlyRankingBtn").textContent=t.yearlyRanking,$("globalRankingBtn").textContent=t.globalRankingCountry;const n=$("rankingTable").querySelectorAll("th");n.length>=4&&(n[0].textContent=t.rankingTablePlace||"Place",n[1].textContent=t.rankingTableUsername||"Username",n[2].textContent=t.rankingTableXP||"XP",n[3].textContent=t.rankingTableLevel||"Level"),$("postsTabTitle").textContent=t.postsTabTitle,$("writePostLabel").textContent=t.writePostLabel,$("postContent").placeholder=t.postContentPlaceholder,$("publishPostBtn").textContent=t.publishPostBtn,$("postMessage").textContent="",$("friendsTabTitle").textContent=t.friends,$("friendSearchInput").placeholder=t.friendSearchInputPlaceholder,$("searchFriendBtn").textContent=t.search,$("myFriendsListTitle").textContent=t.myFriends,$("gameBuilderTitle").textContent=t.gameBuilderTitle,$("toolHammerLabel").textContent=t.toolHammerLabel,$("toolEraserLabel").textContent=t.toolEraserLabel,$("toolBucketLabel").textContent=t.toolBucketLabel,$("modelsCategory").textContent=t.modelsCategory,$("weaponsCategory").textContent=t.weaponsCategory,$("logicCategory").textContent=t.logicCategory,$("createNewModelBtn").textContent=t.createNewModel,$("selectBlockColorBtn").textContent=t.selectBlockColor,$("takeScreenshotBtn").textContent=t.takeScreenshot,$("publishGameBtn").textContent=t.publishGame,$("backToGamesListBtn").textContent=t.backToGamesList,$("gameBuilderMessage").textContent="",$("playGameTitle").textContent=t.playGameTitle,$("playGameInstructions").textContent=t.playGameInstructions,$("returnToGamesListBtn").textContent=t.returnToGamesList,$("allChatsTitle").textContent=t.allChatsTitle,$("allChatsDescription").textContent=t.allChatsDescription,$("reportUserModalHeader").childNodes[0].nodeValue=t.reportUserModalTitle,$("reportReasonLabel").textContent=t.reportReason,$("sexualContentReason").textContent=t.sexualContent,$("hateSpeechReason").textContent=t.hateSpeech,$("personalDataReason").textContent=t.personalData,$("maliciousLinkReason").textContent=t.maliciousLink,$("threatsReason").textContent=t.threats,$("cheatingReason").textContent=t.cheating,$("adminImpersonationReason").textContent=t.adminImpersonation,$("passwordSharingReason").textContent=t.passwordSharing,$("otherReason").textContent=t.other,$("reportComment").placeholder=t.additionalComments,$("sendReportBtn").textContent=t.sendReport,$("reportMessage").textContent=""}const avatars=[{id:"avatar1",name:"Smily Boy",src:"https://placehold.co/80x80/cccccc/000000?text=üòÄ"},{id:"avatar2",name:"Warrior Girl",src:"https://placehold.co/80x80/cccccc/000000?text=üë©‚Äçüé§"},{id:"avatar3",name:"Zebra",src:"https://placehold.co/80x80/cccccc/000000?text=ü¶ì"},{id:"avatar4",name:"King Of Water",src:"https://placehold.co/80x80/cccccc/000000?text=üëë"},{id:"avatar5",name:"Robot",src:"https://placehold.co/80x80/cccccc/000000?text=ü§ñ"},{id:"avatar6",name:"Cat",src:"https://placehold.co/80x80/cccccc/000000?text=üê±"},{id:"avatar7",name:"Dog",src:"https://placehold.co/80x80/cccccc/000000?text=üê∂"},{id:"avatar8",name:"Alien",src:"https://placehold.co/80x80/cccccc/000000?text=üëΩ"},{id:"avatar9",name:"Ninja",src:"https://placehold.co/80x80/cccccc/000000?text=ü•∑"},{id:"avatar10",name:"Wizard",src:"https://placehold.co/80x80/cccccc/000000?text=üßô"}],allChats=[{type:"private",participants:["UserA","UserB"],messages:[{sender:"UserA",text:"Hey, spotka≈Çe≈õ siƒô z tƒÖ nowƒÖ misjƒÖ?",time:"10:05"},{sender:"UserB",text:"Tak, jest super trudna! Potrzebujƒô pomocy.",time:"10:07"},{sender:"UserA",text:"Jasne, mogƒô pom√≥c wieczorem.",time:"10:08"}]},{type:"game",game:"Dragon Slayer",messages:[{sender:"Player1",text:"Kto≈õ na raidzie o 20:00?",time:"11:15"},{sender:"Player2",text:"Ja bƒôdƒô!",time:"11:16"},{sender:"Player1",text:"Ok, zbieramy ekipƒô!",time:"11:17"}]},{type:"private",participants:["GraczX","GraczY"],messages:[{sender:"GraczX",text:"Widzia≈Çe≈õ ten nowy item?",time:"12:01"},{sender:"GraczY",text:"O tak, jest niesamowity! Ale drogi...",time:"12:03"}]},{type:"game",game:"PoKreGaM Football",messages:[{sender:"Fanatik",text:"GOOOOOOL!!!",time:"13:30"},{sender:"Rywal",text:"Foul! To by≈Ç faul!",time:"13:31"},{sender:"Fanatik",text:"Sƒôdzia pu≈õci≈Ç, gramy dalej!",time:"13:32"}]},{type:"private",participants:["Admin","SupportUser"],messages:[{sender:"Admin",text:"Problem z serwerem rozwiƒÖzany.",time:"14:00"},{sender:"SupportUser",text:"Dziƒôki za szybkƒÖ naprawƒô!",time:"14:01"}]}];function hideAllSections(){document.querySelectorAll("section").forEach((e=>hide(e)))}function showSection(e){hideAllSections(),show(e)}async function handleLogin(e){e.preventDefault();const t=$("loginUsername").value,n=$("loginPassword").value,a=$("loginError"),r=users.find((e=>e.username===t&&e.password===n));if(r){if(currentUser=r,localStorage.setItem("currentUser",JSON.stringify(currentUser)),a.textContent="",window.getCurrentUserId()){const e=await window.loadUserDataFromFirestore();e&&(currentUser={...currentUser,...e})}updateProfileUI(currentUser),showSection($("profileSection"))}else a.textContent=LANG[currentLang].loginError}async function handleSignUp(e){e.preventDefault();const t=$("signUpUsername").value,n=$("signUpEmail").value,a=$("signUpCountry").value,r=$("signUpPassword").value,o=$("signUpBirthdate").value,s=$("signUpError"),i=document.querySelector(".avatar.selected"),l=i?i.querySelector("img").src:null;if(!(t&&r&&o&&i))return void(s.textContent=LANG[currentLang].signUpError);if(users.some((e=>e.username===t)))return void(s.textContent="Username already taken.");const c={username:sanitize(t),email:sanitize(n),country:sanitize(a),password:r,birthdate:o,avatar:l,xp:0,level:1,friends:[],gold:0,games:[]};await saveUserToLocalStorage(c),currentUser=c,updateProfileUI(currentUser),showSection($("profileSection"))}function handleLogout(){currentUser=null,localStorage.removeItem("currentUser"),window.firebaseAuth&&window.firebaseAuth.signOut().then((()=>{console.log("Signed out from Firebase.")})).catch((e=>{console.error("Error signing out from Firebase:",e)})),clearProfileUI(),showSection($("loginSection"))}async function handleForgotPassword(e){e.preventDefault();const t=$("forgotPasswordEmail").value,n=users.find((e=>e.email===t)),a=$("forgotPasswordMessage"),r=$("forgotPasswordError");n?(a.textContent=LANG[currentLang].recoveryEmailSent.replace("{username}",n.username).replace("{password}",n.password),r.textContent=""):(r.textContent=LANG[currentLang].recoveryEmailNotFound,a.textContent="")}function switchTab(e){document.querySelectorAll(".tabContent").forEach((e=>hide(e))),document.querySelectorAll("#tabs button").forEach((e=>e.classList.remove("active"))),show($(e)),$(`${e}Button`).classList.add("active"),"rankingTab"===e?updateRanking():"postsTab"===e?loadAllPosts():"friendsTab"===e?loadFriendsList():"gamesTab"===e&&(loadMyGames(),loadPublishedGames())}function renderAvatars(){const e=$("avatarsContainer");e.innerHTML="",avatars.forEach((t=>{const n=document.createElement("div");n.classList.add("avatar"),n.dataset.id=t.id,n.innerHTML=`<img src="${t.src}" alt="${t.name}"><span>${t.name}</span>`,n.addEventListener("click",(()=>{document.querySelectorAll(".avatar").forEach((e=>e.classList.remove("selected"))),n.classList.add("selected")})),e.appendChild(n)}))}function updateRanking(e="overall"){let t=[];if("overall"===e)t=[...users].sort(((e,t)=>t.xp-e.xp));else if("global"===e){const e={};users.forEach((t=>{e[t.country]=(e[t.country]||0)+t.xp})),t=Object.entries(e).map((([e,t])=>({username:e,xp:t,level:"N/A"}))).sort(((e,t)=>t.xp-e.xp))}else t=[...users].sort(((e,t)=>t.xp-e.xp));const n=$("rankingTable").querySelector("tbody");if(n.innerHTML="",t.forEach(((e,t)=>{const a=n.insertRow(),r=a.insertCell(),o=a.insertCell(),s=a.insertCell(),i=a.insertCell(),l=a.insertCell();if(r.textContent=t+1,o.textContent=sanitize(e.username),s.textContent=e.xp,i.textContent=e.level,currentUser&&currentUser.username!==e.username){const t=document.createElement("button");t.classList.add("report-user-btn"),t.textContent=LANG[currentLang].reportUser,t.addEventListener("click",(()=>openReportModal(e.username))),l.appendChild(t)}})),currentUser){const e=t.findIndex((e=>e.username===currentUser.username));$("profileRankingPlace").textContent=-1!==e?e+1:LANG[currentLang].notRanked||"N/A"}}window.updateProfileUI=function(e){e?(currentUser={...currentUser,...e},$("profileUsername").textContent=sanitize(currentUser.username||"N/A"),$("profileCountry").textContent=sanitize(currentUser.country||"N/A"),$("profileXP").textContent=void 0!==currentUser.xp?currentUser.xp:0,$("profileLevel").textContent=void 0!==currentUser.level?currentUser.level:1,$("profileFriendsCount").textContent=currentUser.friends?currentUser.friends.length:0,$("profileGold").textContent=void 0!==currentUser.gold?currentUser.gold:0,$("profileAvatar").querySelector("img").src=currentUser.avatar||"https://placehold.co/80x80/cccccc/000000?text=üë§",updateRanking(),loadFriendsList(),loadMyGames(),loadPublishedGames()):console.warn("No user data provided to updateProfileUI.")};let unsubscribePosts=null;function loadAllPosts(){const e=$("communityPosts");e.innerHTML="",unsubscribePosts&&unsubscribePosts(),unsubscribePosts=window.getPostsFromFirestore((t=>{e.innerHTML="",0!==t.length?t.forEach((t=>{const n=document.createElement("div");n.classList.add("post");const a=document.createElement("div");a.classList.add("post-header");const r=document.createElement("div");r.classList.add("post-avatar");const o=users.find((e=>e.username===t.authorUsername))||{avatar:"https://placehold.co/40x40/cccccc/000000?text=üë§"};r.innerHTML=`<img src="${o.avatar}" alt="${sanitize(t.authorUsername)}">`;const s=document.createElement("div");s.classList.add("post-info"),s.innerHTML=`\n                    <div class="post-author">${sanitize(t.authorUsername)}</div>\n                    <div class="post-time">${new Date(t.timestamp?.toDate?t.timestamp.toDate():t.timestamp).toLocaleString()}</div>\n                `,a.appendChild(r),a.appendChild(s);const i=document.createElement("div");i.classList.add("post-content"),i.textContent=sanitize(t.content),n.appendChild(a),n.appendChild(i),e.appendChild(n)})):e.innerHTML=`<p>${LANG[currentLang].noPostsYet}</p>`}))}async function publishPost(){const e=$("postContent"),t=$("postMessage"),n=e.value.trim();if(!currentUser)return t.textContent="You must be logged in to post.",t.classList.remove("success-message"),void t.classList.add("error-message");if(""===n)return t.textContent=LANG[currentLang].postEmpty,t.classList.remove("success-message"),void t.classList.add("error-message");await window.addPostToFirestore({authorUsername:currentUser.username,content:n})?(t.textContent=LANG[currentLang].postPublished,t.classList.remove("error-message"),t.classList.add("success-message"),e.value=""):(t.textContent="Failed to publish post.",t.classList.remove("success-message"),t.classList.add("error-message"))}function loadFriendsList(){const e=$("myFriendsList");e.innerHTML="",currentUser&&currentUser.friends&&currentUser.friends.length>0?currentUser.friends.forEach((t=>{const n=document.createElement("li");n.innerHTML=`<span>${sanitize(t)}</span><button data-username="${sanitize(t)}" class="remove-friend-btn">X</button>`,n.querySelector(".remove-friend-btn").addEventListener("click",handleRemoveFriend),e.appendChild(n)})):e.innerHTML=`<p>${LANG[currentLang].noFriendsYet}</p>`}function handleFriendSearch(){const e=$("friendSearchInput").value.toLowerCase(),t=$("friendSearchResults");if(t.innerHTML="",e.length<2)return void(t.innerHTML="");const n=users.filter((t=>t.username.toLowerCase().includes(e)&&t.username!==(currentUser?currentUser.username:"")));0!==n.length?n.forEach((e=>{const n=document.createElement("div");n.classList.add("user-card"),n.innerHTML=`<span>${sanitize(e.username)}</span>`;const a=document.createElement("button");a.textContent=LANG[currentLang].addFriend,a.dataset.username=e.username,currentUser&&currentUser.friends&&currentUser.friends.includes(e.username)?(a.textContent=LANG[currentLang].alreadyFriends,a.disabled=!0):currentUser&&currentUser.username===e.username?(a.textContent=LANG[currentLang].cannotAddSelf,a.disabled=!0):a.addEventListener("click",handleAddFriend),n.appendChild(a),t.appendChild(n)})):t.innerHTML=`<p>${LANG[currentLang].noSearchResults}</p>`}async function handleAddFriend(e){if(!currentUser)return void alert("You must be logged in to add friends.");const t=e.target.dataset.username;currentUser.username!==t?currentUser.friends.includes(t)||(currentUser.friends.push(t),await saveUserToLocalStorage(currentUser),loadFriendsList(),alert(LANG[currentLang].friendAdded.replace("{username}",t)),handleFriendSearch()):alert(LANG[currentLang].cannotAddSelf)}async function handleRemoveFriend(e){if(!currentUser)return void alert("You must be logged in to remove friends.");const t=e.target.dataset.username;currentUser.friends=currentUser.friends.filter((e=>e!==t)),await saveUserToLocalStorage(currentUser),loadFriendsList(),alert(`Friend ${t} removed.`)}let currentBuildingGame=null;function loadMyGames(){const e=$("myGamesList");e.innerHTML="",currentUser&&currentUser.games&&0!==currentUser.games.length?currentUser.games.forEach((t=>{const n=document.createElement("div");n.classList.add("game-card"),n.innerHTML=`\n                <h4>${sanitize(t.name)}</h4>\n                <p>Type: ${sanitize(t.type)}</p>\n                <p>Published: ${t.isPublished?"Yes":"No"}</p>\n                <div class="game-card-actions">\n                    <button class="build-game-btn" data-game-id="${t.id}">${LANG[currentLang].build}</button>\n                    <button class="play-game-btn" data-game-id="${t.id}" ${t.isPublished?"":"disabled"}>${LANG[currentLang].games}</button>\n                </div>\n            `,n.querySelector(".build-game-btn").addEventListener("click",(()=>startBuildingGame(t.id))),n.querySelector(".play-game-btn").addEventListener("click",(()=>playGame(t.id))),e.appendChild(n)})):e.innerHTML=`<p>${LANG[currentLang].noGamesYet}</p>`}function loadPublishedGames(){const e=$("publishedGamesList");e.innerHTML="";const t=games.filter((e=>e.isPublished));0!==t.length?t.forEach((t=>{const n=document.createElement("div");n.classList.add("game-card"),n.innerHTML=`\n                <h4>${sanitize(t.name)}</h4>\n                <p>Type: ${sanitize(t.type)}</p>\n                <p>Creator: ${sanitize(t.creatorUsername||"Unknown")}</p>\n                <div class="game-card-actions">\n                    <button class="play-game-btn" data-game-id="${t.id}">${LANG[currentLang].games}</button>\n                </div>\n            `,n.querySelector(".play-game-btn").addEventListener("click",(()=>playGame(t.id))),e.appendChild(n)})):e.innerHTML=`<p>${LANG[currentLang].noPublishedGames}</p>`}async function buildNewGame(){if(!currentUser)return void alert("You must be logged in to build a new game.");const e=prompt(LANG[currentLang].gameNamePrompt);if(!e||""===e.trim())return;const t=prompt(`${LANG[currentLang].selectGameType}\n${LANG[currentLang].baseTemple}, ${LANG[currentLang].parkour}, ${LANG[currentLang].island}`);if(!t||""===t.trim())return;const n=`game-${Date.now()}`,a={id:n,name:sanitize(e),type:sanitize(t),creatorId:window.getCurrentUserId(),creatorUsername:currentUser.username,isPublished:!1,data:{}};currentUser.games||(currentUser.games=[]),currentUser.games.push(a),await saveUserToLocalStorage(currentUser),games.push(a),localStorage.setItem("pokregamGames",JSON.stringify(games)),startBuildingGame(n)}function startBuildingGame(e){if(currentBuildingGame=games.find((t=>t.id===e)),currentBuildingGame){$("currentBuildingGameName").textContent=sanitize(currentBuildingGame.name),switchTab("gameBuilderTab");const e=$("gameCanvas"),t=e.getContext("2d");e.width=600,e.height=400,t.fillStyle="#ADD8E6",t.fillRect(0,0,e.width,e.height),t.fillStyle="#333",t.font="20px Arial",t.fillText(`Building: ${currentBuildingGame.name}`,50,200),$("gameBuilderMessage").textContent=""}else alert("Game not found for building.")}async function publishCurrentGame(){if(!currentBuildingGame)return void alert("No game selected for publishing.");currentBuildingGame.isPublished=!0;const e=games.findIndex((e=>e.id===currentBuildingGame.id));-1!==e&&(games[e]=currentBuildingGame,localStorage.setItem("pokregamGames",JSON.stringify(games)));const t=currentUser.games.findIndex((e=>e.id===currentBuildingGame.id));-1!==t&&(currentUser.games[t]=currentBuildingGame,await saveUserToLocalStorage(currentUser)),$("gameBuilderMessage").textContent=LANG[currentLang].gamePublishedSuccess.replace("{gameName}",currentBuildingGame.name),$("gameBuilderMessage").classList.remove("error-message"),$("gameBuilderMessage").classList.add("success-message"),loadMyGames(),loadPublishedGames()}function playGame(e){const t=games.find((t=>t.id===e));if(!t)return void alert("Game not found.");if(!t.isPublished&&t.creatorId!==window.getCurrentUserId())return void alert(LANG[currentLang].gameNotPublished);$("playingGameName").textContent=sanitize(t.name),switchTab("playGameSection");const n=$("playGameCanvas"),a=n.getContext("2d");n.width=600,n.height=400,a.fillStyle="#ADD8E6",a.fillRect(0,0,n.width,n.height),a.fillStyle="#333",a.font="24px Arial",a.fillText(`Playing: ${t.name}`,50,150),a.font="16px Arial",a.fillText(`Type: ${t.type}`,50,180),a.fillText(`Creator: ${t.creatorUsername}`,50,200)}let reportTargetUsername="";function openReportModal(e){reportTargetUsername=e,$("reportUsernameTarget").textContent=sanitize(e),$("reportMessage").textContent="",document.querySelectorAll('input[name="reportReason"]').forEach((e=>e.checked=!1)),$("reportComment").value="",show($("reportUserModal"))}function closeReportModal(){hide($("reportUserModal")),reportTargetUsername=""}async function handleReportSubmit(e){e.preventDefault();const t=document.querySelector('input[name="reportReason"]:checked'),n=$("reportComment").value.trim(),a=$("reportMessage");return t?currentUser&&currentUser.username!==reportTargetUsername?(console.log(`Report from ${currentUser.username} about ${reportTargetUsername}:`),console.log(`Reason: ${t.value}`),console.log(`Comment: ${n}`),a.textContent=LANG[currentLang].reportSuccess,a.classList.remove("error-message"),a.classList.add("success-message"),void setTimeout(closeReportModal,2e3)):(a.textContent=LANG[currentLang].reportCannotReportSelf,a.classList.remove("success-message"),void a.classList.add("error-message")):(a.textContent=LANG[currentLang].reportNoReason,a.classList.remove("success-message"),void a.classList.add("error-message"))}function renderAllChats(){const e=$("chatsContent");e.innerHTML="",allChats.forEach((t=>{const n=document.createElement("div");n.classList.add("chat-container");const a=document.createElement("div");a.classList.add("chat-header"),"private"===t.type?a.textContent=`Private Chat: ${sanitize(t.participants.join(", "))}`:"game"===t.type&&(a.textContent=`Game Chat: ${sanitize(t.game)}`),n.appendChild(a),t.messages.forEach((e=>{const t=document.createElement("div");t.classList.add("chat-message"),t.innerHTML=`<strong>${sanitize(e.sender)}:</strong> ${sanitize(e.text)} <span style="color:#777; font-size:0.8em;">(${e.time})</span>`,n.appendChild(t)})),e.appendChild(n)}))}document.addEventListener("DOMContentLoaded",(()=>{renderAvatars();const e=localStorage.getItem("pokregamLang");e&&(currentLang=e,$("languageSelector").value=e),translateUI(currentLang);const t=localStorage.getItem("currentUser");t?(currentUser=JSON.parse(t),showSection($("profileSection"))):showSection($("loginSection")),$("navGames").addEventListener("click",(()=>{currentUser?switchTab("gamesTab"):showSection($("loginSection"))})),$("navMarketplace").addEventListener("click",(()=>{currentUser?switchTab("marketplaceTab"):showSection($("loginSection"))})),$("navBuild").addEventListener("click",(()=>{currentUser?switchTab("buildTab"):showSection($("loginSection"))})),$("navNews").addEventListener("click",(()=>{currentUser?switchTab("newsTab"):showSection($("loginSection"))})),$("navRanking").addEventListener("click",(()=>{currentUser?switchTab("rankingTab"):showSection($("loginSection"))})),$("btnLogin").addEventListener("click",(()=>showSection($("loginSection")))),$("btnSignUp").addEventListener("click",(()=>showSection($("signUpSection")))),$("languageSelector").addEventListener("change",(e=>translateUI(e.target.value))),$("loginForm").addEventListener("submit",handleLogin),$("signUpForm").addEventListener("submit",handleSignUp),$("forgotPasswordForm").addEventListener("submit",handleForgotPassword),$("toSignUp").addEventListener("click",(()=>showSection($("signUpSection")))),$("toLogin").addEventListener("click",(()=>showSection($("loginSection")))),$("forgotPasswordLink").addEventListener("click",(()=>showSection($("forgotPasswordSection")))),$("backToLoginFromForgot").addEventListener("click",(()=>showSection($("loginSection")))),document.querySelectorAll("#tabs button[data-tab]").forEach((e=>{e.addEventListener("click",(()=>switchTab(e.dataset.tab)))})),$("btnLogout").addEventListener("click",handleLogout),document.querySelectorAll("#rankingTypeButtons button").forEach((e=>{e.addEventListener("click",(()=>{document.querySelectorAll("#rankingTypeButtons button").forEach((e=>e.classList.remove("active"))),e.classList.add("active"),updateRanking(e.dataset.rankingType)}))})),$("publishPostBtn").addEventListener("click",publishPost),$("searchFriendBtn").addEventListener("click",handleFriendSearch),$("friendSearchInput").addEventListener("input",handleFriendSearch),$("reportUserModal").querySelector(".close-button").addEventListener("click",closeReportModal),$("reportForm").addEventListener("submit",handleReportSubmit),$("buildNewGameBtn").addEventListener("click",buildNewGame),$("takeScreenshotBtn").addEventListener("click",(()=>alert("Screenshot taken! (Simulated)"))),$("publishGameBtn").addEventListener("click",publishCurrentGame),$("backToGamesListBtn").addEventListener("click",(()=>switchTab("gamesTab"))),$("returnToGamesListBtn").addEventListener("click",(()=>switchTab("gamesTab"))),currentUser&&"guest"===currentUser.username&&"Freeaccount"===currentUser.password?(showSection($("allChatsSection")),renderAllChats()):hide($("allChatsSection"))}))</script>
</body>
</html>
